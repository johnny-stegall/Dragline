function _debounce(t,e,a){var n=null;return 0===e?t:function(){var i=a||this,r=arguments;clearTimeout(n),n=setTimeout(function(){t.apply(i,r)},e)}}!function(t,e,a){"use strict";function n(){let t=this.querySelectorAll("header");if(!this.hasAttribute("orientation")||""===this.getAttribute("orientation"))return void this.setAttribute("orientation","vertical");if("vertical"===this.getAttribute("orientation")){for(var a=0;a<t.length;a++)if(1===t[a].children.length){let e=t[a].querySelector("div[role=layout]");e&&(i(e,t[a]),e.remove())}}else{if("horizontal"!==this.getAttribute("orientation"))throw new Error("Unsupported orientation: "+orientation);for(var a=0;a<t.length;a++){let n=t[a].querySelector("div[role=layout]");if(!t[a].firstElementChild||!n){let n=e.createElement("div");n.setAttribute("role","layout"),i(t[a],n),t[a].appendChild(n)}}}}function i(t,e){for(;t.childNodes.length>0;)e.appendChild(t.childNodes[0])}function r(t){let e=t.target;for(;"HEADER"!==e.tagName;)if(e=e.parentElement,!e||"DRAGLINE-ACCORDION"===e.tagName)return;if(e.hasAttribute("expanded"))this.hasAttribute("collapsible")&&e.removeAttribute("expanded");else{let t=this.querySelector("header[expanded]");t&&t.removeAttribute("expanded"),e.setAttribute("expanded","")}}function s(){this.removeEventListener("click",r),this.removeEventListener("mouseenter",r,!0),"hover"===this.getAttribute("toggle")?this.addEventListener("mouseenter",r,!0):this.addEventListener("click",r)}let o=Object.create(HTMLElement.prototype);o.attachedCallback=function(){this.hasAttribute("orientation")||this.setAttribute("orientation","vertical");let t=this.querySelectorAll("header[expanded]");if(t.length>1)throw new Error("Only one key on an accordion can be expanded.");0===t.length&&this.firstElementChild.setAttribute("expanded",""),n.call(this,"vertical"),s.call(this)},o.attributeChangedCallback=function(t,e,a){switch(t){case"orientation":n.call(this,a);break;case"toggle":s.call(this)}};e.registerElement("dragline-accordion",{prototype:o})}(window,document),function(t,e,a){"use strict";function n(){let t=e.head.querySelectorAll("script");for(let a=0;a<t.length;a++){let e=t[a].src.match(o);if(e){this.BasePath=e[1];break}}if(this.BasePath.indexOf(":/")==-1&&"//"!=r.slice(0,2)&&(0===this.BasePath.indexOf("/")?this.BasePath=location.href.match(/^.*?:\/\/[^\/]*/)[0]+r:this.BasePath=location.href.match(/^[^\?]*\/(?:)/)[0]+r),!this.BasePath)throw new Error("Couldn't detect the path to the AdapTable scripts. Set the attribute 'script-path'.")}const i=8760;let r,s=Object.create(HTMLElement.prototype),o=/(^|.*[\\\/])adaptable\.js(?:\?.*|;.*)?$/i,l=`
<style>
  @import "/css/font-awesome.min.css";
  @import "/css/dragline-components.css";
</style>
<slot>
  <div role="menu"></div>
  <section>
    <div class="Actions"></div>
  </section>
  <table>
    <thead></thead>
    <tbody></tbody>
    <tfoot></tfoot>
  </table>
  <section></section>
</slot>`;s.createdCallback=function(){this.BasePath=this.getAttribute("base-path")||n.call(this),this.Data={},this.Layout={},this.MovableColumns=null,this.Expiration=this.hasAttribute("expiration")?this.getAttribute("expiration"):i,this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=l,this.hasAttribute("export-excel")&&this.addActionButton("fa-file-excel-o","Export to Excel",function(){var t=new XMLHttpRequest;t.open("GET",this.getAttribute("export-excel")),t.send()}),this.hasAttribute("export-pdf")&&this.addActionButton("fa-file-pdf-o","Export to PDF",function(){var t=new XMLHttpRequest;t.open("GET",this.getAttribute("export-pdf")),t.send()}),getUnloadedModules.call(self),self.initializeState()},s.attachedCallback=function(){this.addEventListener("click",toggleMenu.bind(this)),this.shadowRoot.querySelector("div[role=Menu]").addEventListener("click",function(t){t.stopPropagation()})},s.attributeChangedCallback=function(t,e,a){};e.registerElement("dragline-adaptable",{prototype:s})}(window,document),function(t,e,a){"use strict";function n(){let t=e.createElement("ol");for(var a=0;a<this.children.length;a++)t.appendChild(e.createElement("li"));t.firstElementChild.setAttribute("active",""),t.addEventListener("click",s.bind(this)),this.shadowRoot.appendChild(t)}function i(){let t=e.createElement("a");t.className+="Left",t.href="javascript:void(0);",t.addEventListener("click",o.bind(this));let a=e.createElement("i");a.className+="fa fa-chevron-left",t.appendChild(a);let n=e.createElement("a");n.className+="Right",n.href="javascript:void(0);",n.addEventListener("click",o.bind(this));let i=e.createElement("i");i.className+="fa fa-chevron-right",n.appendChild(i),this.shadowRoot.appendChild(t),this.shadowRoot.appendChild(n)}function r(t,e){if(null==t)throw new Error("The next item is required.");if(null==e)throw new Error("The active item is required.");let a=Array.prototype.indexOf.call(this.querySelectorAll("carousel-item"),e),n=this.getAttribute("direction");if("string"!=typeof t){if("number"==typeof t)return t>a&&"left"===n?this.setAttribute("reverse",""):t<a&&"right"===n&&this.setAttribute("reverse",""),t;throw new Error("Invalid argument for nextItem: "+t+".")}switch(t.toLowerCase()){case"+1":case"next":return a+("right"===this.getAttribute("direction")?1:-1);case"-1":case"back":case"prev":case"previous":return a+("right"===this.getAttribute("direction")?-1:1);case"right":return"left"===n&&this.setAttribute("reverse",""),a+1;case"left":return"right"===n&&this.setAttribute("reverse",""),a-1;default:throw new Error("Invalid argument for nextItem: "+t+".")}}function s(t){if("LI"===t.target.tagName){let e=t.target.parentElement;this.rotate(Array.prototype.indexOf.call(e.children,t.target))}}function o(t){"A"===t.target.tagName&&(t.target.classList.contains("Right")?this.rotate("right"):t.target.classList.contains("Left")&&this.rotate("left"))}function l(t,e){let a=this.querySelector("carousel-item[next]");a&&a.removeAttribute("next"),e.removeAttribute("egress"),e.setAttribute("next","");let n=this;setTimeout(function(){c.call(n,t,e)},1e3*parseFloat(getComputedStyle(e).transitionDuration))}function d(){let t=this.querySelector("carousel-item");this.style.height=t.clientHeight+"px",this.style.width=t.clientWidth+"px"}function c(t,e){let a=this.querySelector("carousel-item[egress]");a&&a.removeAttribute("egress"),t.setAttribute("egress",""),t.removeAttribute("active"),e.setAttribute("active",""),e.removeAttribute("next");let n=this.shadowRoot.querySelectorAll("ol > li"),i=this.shadowRoot.querySelector("li[active]"),r=Array.prototype.indexOf.call(this.querySelectorAll("carousel-item"),e),s=n[r];i.removeAttribute("active"),s.setAttribute("active","");let o=new CustomEvent("rotated");this.dispatchEvent(o),this.IsSliding=!1,this.resumeRotation()}function h(){this.hasAttribute("pause-on-hover")&&(this.addEventListener("mouseenter",this.pauseRotation.bind(this)),this.addEventListener("mouseleave",this.resumeRotation.bind(this)))}function u(t,e){let a=this.querySelectorAll("carousel-item"),n=a.indexOf(t);if(this.hasAttribute("direction")&&"left"!==this.getAttribute("direction").toLowerCase()){if(0===n)switch(e){case"-1":case"back":case"prev":case"previous":case"left":return!0}else if(n===a.length-1)switch(e){case"+1":case"next":case"right":return!0}}else if(0===n)switch(e){case"+1":case"next":case"right":return!0}else if(n===a.length-1)switch(e){case"-1":case"back":case"prev":case"previous":case"left":return!0}return!1}let p=Object.create(HTMLElement.prototype),g=`
<style>
  @import "/css/font-awesome.min.css";
  @import "/css/dragline-components.css";
</style>
<slot></slot>`;p.createdCallback=function(){this.IsSliding=!1,this.Timer=null,this.querySelector("carousel-item[active]")||this.querySelector("carousel-item").setAttribute("active",""),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=g},p.attachedCallback=function(){this.hasAttribute("wrap")||this.setAttribute("wrap",""),this.hasAttribute("direction")||this.setAttribute("direction","right"),this.hasAttribute("interval")||this.setAttribute("interval","5000"),n.call(this),i.call(this),h.call(this),this.hasAttribute("autosize")||d.call(this),parseInt(this.getAttribute("interval"))>0&&this.resumeRotation()},p.attributeChangedCallback=function(t,e,a){switch(t){case"pause-on-hover":h.call(this)}},p.getItemIndex=function(t){let e=this.querySelectorAll("carousel-item");return e.indexOf(t||this.querySelector("carousel-item[active]"))},p.pauseRotation=function(){this.Timer&&(clearInterval(this.Timer),this.Timer=null)},p.resumeRotation=function(){let t=parseInt(this.getAttribute("interval"));this.Timer&&this.pauseRotation();let e=this;this.Timer=setInterval(function(){e.Direction=e.getAttribute("direction")||"right",e.rotate(e.Direction)},t)},p.rotate=function(t,e){let a=this.querySelector("[active]");if(!this.hasAttribute("wrap")&&u.call(this,a,t)){let t=new CustomEvent("rotated");return void this.dispatchEvent(t)}this.pauseRotation(),this.hasAttribute("reverse")&&(this.setAttribute("paradox",""),this.removeAttribute("reverse"),this.removeAttribute("paradox"));let n,i=r.call(this,t,a),s=this.querySelectorAll("carousel-item");n=i<0?s[i%s.length+s.length]:s[i%s.length],this.IsSliding=!0,l.call(this,a,n)};e.registerElement("dragline-carousel",{prototype:p})}(window,document),function(t,e,a){"use strict";function n(t){if(!t||3!==t.which){this.removeAttribute("active");let t=e.getElementsByClassName("div.Dropdown-Backdrop")[0];t&&t.remove()}}function i(t){if(/(38|40|27)/.test(t.keyCode)){t.preventDefault(),t.stopPropagation();let a=this.querySelectorAll("ol, ul")[0];if(!a.hasAttribute("disabled")){if(!this.hasAttribute("active")||this.hasAttribute("active")&&27==t.keyCode)return 27==t.which&&a.focus(),this.querySelector("button").click();let n=a.querySelectorAll("li:not([divider]) a");if(n.length){let a=Array.prototype.indexOf.call(n,e.activeElement);38==t.keyCode&&a>0?a--:40==t.keyCode&&a<n.length-1?a++:~a||(a=0),n[a].focus()}}}}function r(t){if(this.querySelector("button").hasAttribute("disabled"))return!1;if(t.preventDefault(),t.stopPropagation(),this.hasAttribute("active"))this.removeAttribute("active");else{if("ontouchstart"in e.documentElement){let t=e.createElement("div");t.className+="DropDown-Backdrop",t.addEventListener("click",n.bind(this))}this.setAttribute("active",""),this.querySelector("button").focus()}}function s(){if(!this.querySelector("button"))throw new Error("A <button> element is required to initiate the drop down.");if(!this.querySelectorAll("ol, ul").length)throw new Error("A <ol> or <ul> element is required to display the drop down menu.")}function o(){let t=this.querySelector("button");t.addEventListener("click",r.bind(this)),t.addEventListener("keydown",i.bind(this));let a=this.querySelectorAll("ol, ul")[0];a.addEventListener("keydown",i.bind(this)),e.addEventListener("click",n.bind(this)),e.addEventListener("keydown",n.bind(this))}let l=Object.create(HTMLElement.prototype);l.attachedCallback=function(){s.call(this),o.call(this)};e.registerElement("dragline-dropdown",{prototype:l})}(window,document),function(t,e,a){"use strict";function n(t,e){this.ActiveHeading=this.Headings.filter(function(e,a){let n=t.href.indexOf("#")+1;return e.Heading.id==t.href.substr(n)})[0],e&&(e.preventDefault(),d.call(this));let a=this.shadowRoot.querySelectorAll("li[active]");for(var n=0;n<a.length;n++)a[n].removeAttribute("active");let i=t.parentElement;for(;i&&"DRAGLINE-INDEX"!==i.tagName;)"LI"===i.tagName&&i.setAttribute("active",""),i=i.parentElement}function i(){let t=l.call(this);if(o.call(this,t)){this.ScrollHeight=s.call(this);let a=this.shadowRoot.querySelector("ol");a&&a.remove();let n=e.createElement("ol");this.shadowRoot.appendChild(n);let i,r=parseInt(t[0].Heading.tagName.substr(t[0].Heading.tagName.length-1));t.forEach(function(t){let a=t.Heading.tagName,s=parseInt(a.substr(a.length-1));if(s>r){let t=e.createElement("ol");i.appendChild(t),n.appendChild(i),n=t,r++}for(;s<r;){for(n=n.parentElement;"OL"!==n.tagName;)n=n.parentElement;r--}let o=e.createElement("a");o.innerText=t.Heading.innerText,o.href="#"+t.Heading.id,i=e.createElement("li"),i.appendChild(o),n.appendChild(i)}),this.Headings=t}}function r(t){let a=t.offsetTop,n=t.offsetParent;for(;n!=e.body;)a+=n.offsetTop,n=n.offsetParent;return a}function s(){return this.Scroller.scrollHeight||Math.max(e.body.scrollHeight,e.documentElement.scrollHeight)}function o(t){if(!this.Headings||0===this.Headings.length)return!0;let e=this,a=t.filter(function(t,a){return t.Offset!==e.Headings[a].Offset||t.Heading[0]!==e.Headings[a].Heading[0]});return a.length>0}function l(){let t=[];for(var e=1;e<7;e++)t=t.concat(Array.prototype.slice.call(this.Target.querySelectorAll("h"+e+"[id]")));let a=this;return t=t.map(function(t,e){let n=r.call(a,t);return{Heading:t,Offset:n}}).sort(function(t,e){return t.Offset-e.Offset})}function d(){let e=r.call(this,this.ActiveHeading.Heading);this.Scroller==t?this.Scroller.scrollTo(0,e-parseInt(this.getAttribute("offset"))):this.Scroller.scrollTop=e-parseInt(this.getAttribute("offset"))}function c(){let a,r,o=s.call(this),l=parseInt(this.getAttribute("offset"));this.Scroller==t?(a=e.documentElement.scrollTop+l,r=l+o-t.innerHeight):(a=this.Scroller.scrollTop+l,r=l+o-this.Scroller.clientHeight),this.ScrollHeight!=o&&i.call(this);let d,c;if(a>=r)return d=this.Headings[this.Headings.length-1],c=this.shadowRoot.querySelector("[href='#"+d.Heading.id+"']"),this.ActiveHeading!=d&&n.call(this,c);if(this.ActiveHeading&&a<=this.Headings[0].Offset)return d=this.Headings[0],c=this.shadowRoot.querySelector("[href='#"+d.Heading.id+"']"),this.ActiveHeading!=d&&n.call(this,c);for(var h=this.Headings.length;h--;)if(a>=this.Headings[h].Offset&&(!this.Headings[h+1]||a<=this.Headings[h+1].Offset)){c=this.shadowRoot.querySelector("[href='#"+this.Headings[h].Heading.id+"']"),n.call(this,c);break}}function h(){let t=this;this.Scroller.addEventListener("scroll",function(e){c.call(t,e)}),this.addEventListener("click",function(e){"A"===e.path[0].tagName&&n.call(t,e.path[0],e)})}let u=Object.create(HTMLElement.prototype),p=`
<style>
  @import "/css/dragline-components.css";
</style>`;u.createdCallback=function(){this.Target=e.body,this.Scroller=e.getElementById(this.getAttribute("target"))||t,this.Headings=[],this.ActiveHeading=null,this.ScrollHeight=0,this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=p},u.attachedCallback=function(){h.call(this),c.call(this)};e.registerElement("dragline-index",{prototype:u})}(window,document),function(t,e,a){"use strict";function n(){this.TopSpacer=e.createElement("div"),this.TopSpacer.className+="Top-Spacer",this.shadowRoot.insertBefore(this.TopSpacer,this.shadowRoot.querySelector("content")),this.BottomSpacer=e.createElement("div"),this.BottomSpacer.className+="Bottom-Spacer",this.shadowRoot.appendChild(this.BottomSpacer)}function i(){let t;if(this.ItemHeight)t=this.ItemHeight;else if(this.querySelector("tbody")){let a=e.createElement("td");a.innerText="You're not supposed to see this :p";let n=e.createElement("tr");n.style.visibility="hidden",n.appendChild(a),this.querySelector("tbody").appendChild(n),t=parseInt(getComputedStyle(n).height),n.remove()}else if(this.querySelectorAll("ol, ul").length){let a=e.createElement("li");a.style.visibility="hidden",a.innerText="You're not supposed to see this :p",this.querySelectorAll("ol, ul")[0].appendChild(a),t=parseInt(getComputedStyle(a).height),a.remove()}else{let a=this.firstElementChild.firstElementChild.tagName,n=e.createElement(a);n.style.visibility="hidden",n.innerText="You're not supposed to see this :p",this.firstElementChild.appendChild(n),t=parseInt(getComputedStyle(n).height),n.remove()}return t}function r(){let e=parseInt(this.getAttribute("page-size")),a=e*this.ItemHeight,n=this.Rows/e,i=a*parseFloat(this.getAttribute("threshold"));i-=this.hasAttribute("use-window")?t.innerHeight:this.clientHeight,this.TopSpacer.style.height=a*Math.max(this.PageIndex-1,0)+"px",this.BottomSpacer.style.height=a*Math.max(n-1-(this.PageIndex+1),0)+"px",0!==this.PageIndex||this.HasLoadedData?this.Thresholds={Down:parseInt((this.PageIndex+1)*a+i),Up:parseInt((this.PageIndex-1)*a+i)}:(this.Thresholds={Down:i,Up:-1},this.HasLoadedData=!0)}function s(e){let a,n,i=parseInt(this.getAttribute("page-size")),r=i*this.ItemHeight;if(this.hasAttribute("use-window")?(a=this.offsetTop,n=t.pageYOffset||scrollY,this.PageIndex=parseInt((n-this.HeaderHeight-a)/r)):(a=0,n=this.scrollTop,this.PageIndex=parseInt((n-this.HeaderHeight-a)/r)),n>=this.Thresholds.Down){let t=this.Rows/i;if(this.PageIndex+1!==t||this.NoMoreData){let t=new CustomEvent("thresholdReached",{detail:{data:o.call(this)}});this.dispatchEvent(t)}else{let t=new CustomEvent("newPage",{detail:{pageIndex:this.PageIndex+1,pageSize:i}});this.dispatchEvent(t)}}else if(n<=this.Thresholds.Up){let t=new CustomEvent("thresholdReached",{detail:{data:o.call(this)}});this.dispatchEvent(t)}}function o(){let t=parseInt(this.getAttribute("page-size")),a=JSON.parse(sessionStorage.getItem(c+e.location)),n=[];if(a)if(this.id){let e=a.Instances[this.Id];if(e&&e.Data.length){this.Rows=e.Data.length;let a=this.Rows/t,i=Math.max(this.PageIndex-1,0)*t,r=Math.min(this.PageIndex+1,a)*t;n=e.slice(i,r)}}else{this.Rows=a.length;let e=this.Rows/t,i=Math.max(this.PageIndex-1,0)*t,r=Math.min(this.PageIndex+1,e)*t;(r-i)/t<e&&(r+=t),n=a.slice(i,r)}return r.call(this),n}function l(){t.removeEventListener("scroll",s.bind(this)),this.removeEventListener("scroll",s.bind(this)),this.hasAttribute("use-window")?t.addEventListener("scroll",s.bind(this)):this.addEventListener("scroll",s.bind(this))}let d=Object.create(HTMLElement.prototype),c="Infinite Scroll: ";d.createdCallback=function(){this.HasLoadedData=!1,this.NoMoreData=!1,this.PageIndex=0,this.Rows=0,this.createShadowRoot(),this.shadowRoot.innerHTML="<style>@import url('/css/font-awesome.min.css')</style><content></content>"},d.attachedCallback=function(){this.hasAttribute("page-size")||this.setAttribute("page-size","25"),this.hasAttribute("threshold")||this.setAttribute("threshold","0.67"),this.hasAttribute("use-window")||this.setAttribute("use-window",""),this.HeaderHeight=this.clientHeight,this.ItemHeight=this.ItemHeight||i.call(this),n.call(this),l.call(this)},d.attributeChangedCallback=function(t,e,a){switch(t){case"use-window":l.call(this)}},d.cacheData=function(t){if(t&&t.length)if(this.id){let a=JSON.parse(sessionStorage.getItem(c+e.location))||{Instances:{}},n=a.Instances[this.id];n||(n={Data:[]},a.Instances[this.id]=n),n.Data.indexOf(t)>-1?this.NoMoreData=!0:(n.Data=n.Data.concat(t),sessionStorage.setItem(c+e.location,JSON.stringify(a))),this.Rows=n.Data.length}else{let a=JSON.parse(sessionStorage.getItem(c+e.location))||[];a.indexOf(t)>-1?this.NoMoreData=!0:(a=a.concat(t),sessionStorage.setItem(c+e.location,JSON.stringify(a))),this.Rows=a.length}else this.NoMoreData=!0;let a=new CustomEvent("thresholdReached",{detail:{data:o.call(this)}});this.dispatchEvent(a)};e.registerElement("dragline-scrollable",{prototype:d})}(window,document),function(t,e,a){"use strict";function n(){if(!e.querySelector("body > div[role='backdrop']")){let t=e.createElement("div");return t.setAttribute("role","backdrop"),t.setAttribute("aria-hidden","true"),t}}function i(){let t=e.getElementById("modalDialog");if(t)return t;t=e.createElement("dialog"),t.id="modalDialog",t.setAttribute("open",""),t.setAttribute("role","dialog"),t.setAttribute("aria-hidden","true");let a=e.createElement("i");a.className+="fa fa-times";let n=e.createElement("button");n.type="button",n.addEventListener("click",this.hideDialog.bind(this)),n.appendChild(a);let i=e.createElement("header");i.appendChild(n),i.appendChild(e.createElement("span"));let r=e.createElement("footer");return r.className+="Text-Right",t.appendChild(i),t.appendChild(e.createElement("section")),t.appendChild(r),t}function r(t){if(t.target.hasAttribute("modal-template")){let e=t.target.getAttribute("modal-template"),a=t.target.getAttribute("modal-title"),n=t.target.getAttribute("modal-options");n&&(n=JSON.parse(n.replace(/'/g,'"'))),this.showDialog(e,a,n)}}function s(t){let a=e.getElementById("modalDialog");a&&a.remove();let n=e.querySelector("body > div[role='backdrop']");n&&n.remove()}function o(){e.addEventListener("click",r.bind(this))}let l=Object.create(HTMLElement.prototype);l.attachedCallback=function(){this.DialogCallback=null,o.call(this)},l.hideDialog=function(){let t=e.getElementById("modalDialog");t&&(this.DialogCallback&&(t.removeEventListener("transitionend",this.DialogCallback),this.DialogCallback=null),t.addEventListener("transitionend",s),t.removeAttribute("active"))},l.prompt=function(t,a,n){let i=e.createElement("p");i.className+="Text-Center",i.innerText=a;let r=e.createElement("div");r.appendChild(i);let s=[];for(var o=0;o<n.length;o++){if(!n[o].Text||n[o].Text.trim().length<1)throw new Error("There is no text for modal button #"+o+".");let t=e.createElement("button");t.type="button",t.innerText=n[o].Text,n[o].CssClasses&&(t.className+=n[o].CssClasses),n[o].Callback?t.addEventListener("click",n[o].Callback):t.addEventListener("click",this.hideDialog.bind(this)),s.push(t)}this.showDialog(r,t,null,null,s)},l.promptToDelete=function(t,e){if("function"==typeof t&&(e=t,t=null),!e)throw new Error("The delete callback is required.");this.prompt("Confirm Removal",t||"Are you sure you want to delete this?",[{Callback:e,CssClasses:"Suggested",Text:"Delete"},{Text:"Cancel"}])},l.promptToSave=function(t,e,a,n){if("function"==typeof t&&(n=a,a=e,e=t,t=null),!e)throw new Error("The save callback is required.");if(!a)throw new Error("The continue callback is required.");if(!n)throw new Error("The cancel callback is required.");this.prompt("Unsaved Changes",t||"There are unsaved changes. What would you like to do?",[{Callback:e,CssClasses:"Suggested",Text:"Save and Continue"},{Callback:a,Text:"Continue Without Saving"},{Callback:n,Text:"Cancel"}])},l.showDialog=function(t,a,r,s,o){if(!t)throw new Error("The element is required.");if(!a||"string"!=typeof a)throw new Error("The title is required.");"string"==typeof t&&(t=e.getElementById(t)),"function"==typeof r&&(s=r,r=null),r?("undefined"==typeof r.CloseButton&&(r.CloseButton=!0),r.Effect||(r.Effect="Slide From Top")):r={CloseButton:!0,Effect:"Slide From Top"};let l=n(),d=i.call(this);if(d.className+=r.Effect.replace(/ /g,""),d.querySelector("header > span").innerText=a,d.querySelector("section").innerHTML=t.innerHTML,d.querySelector("header > button").style.display=r.CloseButton?"inline-block":"none",o){let t=d.querySelector("footer");for(var c=0;c<o.length;c++)t.appendChild(o[c])}s&&(this.DialogCallback=s,d.addEventListener("transitionend",this.DialogCallback)),e.body.appendChild(d),e.body.appendChild(l),setTimeout(function(){d.setAttribute("active","")},250)};e.registerElement("dragline-modal",{prototype:l})}(window,document),function(t,e,a){"use strict";function n(){let t=e.createElement("div");t.className+="Meter",t.appendChild(e.createElement("span"));let a=e.createElement("div");a.className+="Strength",a.innerHTML="<small><strong>Strength:</strong> <span>Weak</span></small>",a.appendChild(t),this.shadowRoot.appendChild(a)}function i(){let t="Weak",a=e.getElementById(this.getAttribute("for")),n=new RegExp(this.getAttribute("strong")),i=new RegExp(this.getAttribute("good")),r=new RegExp(this.getAttribute("fair")),s=this.shadowRoot.querySelector("div.Strength");return s.classList.remove("Strong,Moderate,Fair,Weak"),a.value.length<1||e.activeElement!=a?void this.removeAttribute("active"):(n.test(a.value)?t="Strong":i.test(a.value)?t="Moderate":r.test(a.value)&&(t="Fair"),s.querySelector("small > span").innerText=t,s.classList.add(t),void this.setAttribute("active",""))}function r(t){if(t){let a=e.getElementById(t);a.removeEventListener("blur",i.bind(this)),a.removeEventListener("focus",i.bind(this)),a.removeEventListener("keyup",i.bind(this)),a.removeEventListener("paste",i.bind(this))}let a=e.getElementById(this.getAttribute("for"));a.addEventListener("blur",i.bind(this)),a.addEventListener("focus",i.bind(this)),a.addEventListener("keyup",i.bind(this)),a.addEventListener("paste",i.bind(this))}let s=Object.create(HTMLElement.prototype),o=`
<style>
  @import "/css/dragline-components.css";
</style>`;s.createdCallback=function(){this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=o},s.attachedCallback=function(){if(!this.hasAttribute("for"))throw new Error("The for attribute is required.");let t=e.getElementById(this.getAttribute("for"));if("INPUT"!==t.tagName)throw new Error("Only <input> elements are supported for checking password strength.");this.hasAttribute("fair")||this.setAttribute("fair","^(?=.*[A-Za-z]+)(?=.*[0-9]+).{6,}$"),this.hasAttribute("good")||this.setAttribute("good","^(?=.*[A-Z]+)(?=.*[a-z]+)(?=.*[0-9]+).{8,}$"),this.hasAttribute("strong")||this.setAttribute("strong","^(?=.*[A-Z]+)(?=.*[a-z]+)(?=.*[0-9]+)(?=.*[^A-Za-z0-9 ]+).{8,}$"),n.call(this),r.call(this)},s.attributeChangedCallback=function(t,a,n){switch(t){case"for":if(!this.hasAttribute("for"))throw new Error("The for attribute is required.");let i=e.getElementById(this.getAttribute("for"));if("INPUT"!==i.tagName)throw new Error("Only <input> elements are supported for checking password strength.");r.call(this,a);break;case"fair":case"good":case"strong":null!=n&&""!==n.trim()||("fair"===t&&this.setAttribute("fair","^(?=.*[A-Za-z]+)(?=.*[0-9]+).{6,}$"),"good"===t&&this.setAttribute("good","^(?=.*[A-Z]+)(?=.*[a-z]+)(?=.*[0-9]+).{8,}$"),"strong"===t&&this.setAttribute("strong","^(?=.*[A-Z]+)(?=.*[a-z]+)(?=.*[0-9]+)(?=.*[^A-Za-z0-9 ]+).{8,}$"))}};e.registerElement("dragline-password-strength",{prototype:s})}(window,document),function(t,e,a){"use strict";function n(){let t=e.createElement("section");this.shadowRoot.appendChild(t);let a=e.createElement("i");a.className+="fa",t.appendChild(a);let n=e.createElement("div");t.appendChild(n);let i=e.createElement("slot");n.appendChild(i)}function i(){this.hasAttribute("active")?this.removeAttribute("active"):this.setAttribute("active","")}function r(){this.shadowRoot.querySelector("i").addEventListener("click",i.bind(this))}let s=Object.create(HTMLElement.prototype),o=`
<style>
  @import "/css/font-awesome.min.css";
  @import "/css/dragline-components.css";
</style>`;s.createdCallback=function(){this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=o},s.attachedCallback=function(){this.hasAttribute("location")||this.setAttribute("location","top"),n.call(this),r.call(this)};e.registerElement("dragline-pull-out",{prototype:s})}(window,document),function(t,e,a){"use strict";function n(t){"blur"===t.type?this.removeAttribute("active"):"focus"===t.type&&this.setAttribute("active","")}function i(t){if(t){let a=e.getElementById(t);a.removeEventListener("blur",n.bind(this)),a.removeEventListener("focus",n.bind(this)),a.removeEventListener("keyup",this.update.bind(this)),a.removeEventListener("paste",this.update.bind(this))}let a=e.getElementById(this.getAttribute("for"));a.addEventListener("blur",n.bind(this)),a.addEventListener("focus",n.bind(this)),a.addEventListener("keyup",this.update.bind(this)),a.addEventListener("paste",this.update.bind(this))}let r=Object.create(HTMLElement.prototype);r.createdCallback=function(){this.createShadowRoot()},r.attachedCallback=function(){if(!this.hasAttribute("for"))throw new Error("The for attribute is required.");let t=e.getElementById(this.getAttribute("for"));if("TEXTAREA"!==t.tagName)throw new Error("Only <textarea> elements are supported for counting remaining characters.");this.hasAttribute("good-color")||this.setAttribute("good-color","#00AA00"),this.hasAttribute("warning-color")||this.setAttribute("warning-color","#CFD100"),this.hasAttribute("danger-color")||this.setAttribute("danger-color","#AA0000"),this.update(),i.call(this)},r.attributeChangedCallback=function(t,a,n){switch(t){case"for":if(!this.hasAttribute("for"))throw new Error("The for attribute is required.");let r=e.getElementById(this.getAttribute("for"));if("TEXTAREA"!==r.tagName)throw new Error("Only <textarea> elements are supported for counting remaining characters.");i.call(this,a);break;case"good-color":case"warning-color":case"danger-color":null!=n&&""!==n.trim()||("good-color"===t&&this.setAttribute("good-color","#00AA00"),"warning-color"===t&&this.setAttribute("warning-color","#CFD100"),"danger-color"===t&&this.setAttribute("danger-color","#AA0000"))}},r.update=function(t){let a=e.getElementById(this.getAttribute("for")),n=a.value.length,i=a.getAttribute("maxlength")||524288;this.shadowRoot.textContent="Characters Remaining: "+(i-n);let r=n/i*100;r<50?this.style.color=this.getAttribute("good-color"):r<75?this.style.color=this.getAttribute("warning-color"):this.style.color=this.getAttribute("danger-color")};e.registerElement("dragline-remaining",{prototype:r})}(window,document),function(t,e,a){"use strict";function n(t){let e=t.target;for(;e&&"DRAGLINE-TAB"!==e.tagName;)e=e.parentNode;e&&(this.querySelector("[active]").removeAttribute("active"),e.setAttribute("active",""))}function i(){let t=this.querySelectorAll("dragline-tab");for(let a=0;a<t.length;a++){let n=t[a],i=e.createElement("section");if(i.innerHTML=n.innerHTML,n.innerHTML="",n.appendChild(i),n.hasAttribute("icon")){let t;n.getAttribute("icon").endsWith(".gif")||n.getAttribute("icon").endsWith(".jpg")||n.getAttribute("icon").endsWith(".png")?(t=e.createElement("img"),t.src=n.getAttribute("icon"),t.style.height="1em",t.style.width="1em"):(t=e.createElement("i"),t.className+="fa "+n.getAttribute("icon")),n.insertBefore(t,i)}if(n.hasAttribute("text")){let t=e.createElement("span");t.innerText=n.getAttribute("text"),n.insertBefore(t,i)}}}function r(){this.addEventListener("click",n.bind(this))}let s=Object.create(HTMLElement.prototype),o=`
<style>
  @import "/css/font-awesome.min.css";
  @import "/css/dragline-components.css";
</style>
<slot></slot>`;s.createdCallback=function(){this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=o},s.attachedCallback=function(){this.hasAttribute("orientation")||this.setAttribute("orientation","horizontal");let t=this.querySelectorAll("dragline-tab[active]");if(t.length){if(t.length>1)throw new Error("Only one tab can be active at a time.")}else this.firstElementChild.setAttribute("active","");i.call(this),r.call(this)};e.registerElement("dragline-tabstrip",{prototype:s})}(window,document),function(t,e,a){"use strict";function n(t,a){let n=e.createElement("button");n.type="button",n.addEventListener("click",function(){t.setAttribute("acknowledged","")});let i=e.createElement("i");i.className+="fa fa-times",n.appendChild(i),t.appendChild(n)}function i(t){let e=t.target;e.setAttribute("disabled",""),e.addEventListener("transitionend",function(t){e.remove()})}function r(t,a){let n=e.createElement("img");n.src=a,t.appendChild(n)}let s=Object.create(HTMLElement.prototype),o=`
<style>
  @import "/css/font-awesome.min.css";
  @import "/css/dragline-components.css";
</style>`;s.createdCallback=function(){this.Messages=0;let t=this.attachShadow({mode:"open"});t.innerHTML=o},s.add=function(t){if(!t)throw new Error("No message parameters supplied.");if("string"==typeof t)t={Text:t};else if(this.hasAttribute("max")&&this.shadowRoot.querySelectorAll("div").length>=parseInt(this.getAttribute("max")))return;let a=this.Messages,s=e.createElement("div");if(s.id="Toasty-"+a,t.Role&&s.setAttribute("role",t.Role.toLowerCase()),t.Sticky?s.setAttribute("sticky",""):s.addEventListener("transitionend",i),this.Messages++,t.Dismissable&&n(s,a),t.Title){let a=e.createElement("header");a.innerText=t.Title,s.appendChild(a)}t.ImageUrl&&r(s,t.ImageUrl);let o=e.createElement("span");return o.innerText=t.Text,s.appendChild(o),this.shadowRoot.appendChild(s),setTimeout(function(){s.setAttribute("active","")},250),a},s.remove=function(t){this.shadowRoot.getElementById("#Toasty-"+t).remove()},s.removeAll=function(){for(;this.shadowRoot.querySelector("div");)this.shadowRoot.querySelector("div").remove()};e.registerElement("dragline-toasty",{prototype:s})}(window,document),function(){"use strict";function t(t,e,a){var n=$("<input />").attr("type","date").attr("id","dteStart"),i=$("<span>and</span>").addClass("Hidden"),r=$("<input />").attr("type","date").attr("id","dteEnd").addClass("Hidden");a.length&&(n.val(a[0].Operand),2===a.length&&(i.removeClass("Hidden"),r.val(a[1].Operand).removeClass("Hidden"))),t.append(n).append(i).append(r)}function e(t,e){var a=this,n=$("<span />").text(": ").addClass("Operator"),i=$("<span />").text("All").addClass("Operand"),r=$("<button />").attr("type","button").addClass("Filter").data("Column",e).text(e.Header).append(n).append(i).on("click.widgets.adaptable",function(t){p.call(a,t,e)});t.append(r)}function a(t){var a=this,n=0,i=$('<ol class="More-Filters" />'),r=[],o=this.Instance.Element.data("Layout"),l=Lazy(o.Columns);o.Query.Filters&&Lazy(o.Query.Filters).each(function(i,s){if(""!==i.Column){r.indexOf(i.Column)<0&&r.push(i.Column);var o=l.findWhere({Name:i.Column}),d=t.find("button.Filter").filter(function(t,e){return e=$(e),e.data("Column")===o}).first();d.length||(e.call(a,t,o),d=t.children("button.Filter:last")),h(d,i,o),n=3}}),l.where({IsFilterable:!0}).each(function(o,l){n<3?(e.call(a,t,o),n++):r.indexOf(o.Name)<0&&s.call(a,i,o,t)}),t.append(i)}function n(t,e){var a=this,n=$("<button />").attr("type","submit").addClass("Suggested").text("Update"),i=$("<button />").attr("type","button").addClass("Risky").text("Clear").on("click.widgets.adaptable",function(t){a.removeFilter(e.Name,!0),a.Instance.toggleMenu(t)}),r=$("<button />").attr("type","button").text("Close").on("click.widgets.adaptable",$.proxy(this.Instance.toggleMenu,this.Instance)),s=$("<div />").append(n).append(i).append(r);t.append(s).on("submit.widgets.adaptable",$.proxy(c,this,e))}function i(t,e){var a=JSON.parse(localStorage.getItem(this.Instance.STORAGE_PREFIX+document.location)),n=(a.Instances[$("div.AdapTable").index(this.Instance.Container)],this.Instance.Element.data("Data").FilterValues[e.Name]),i=Lazy(this.Instance.Element.data("Layout").Query.Filters).findWhere({Column:e.Name}),r=$("<ul />"),s=this;Lazy(n).each(function(t,a){var n=$("<input />").attr("type","checkbox").prop("checked",i&&i.Operand.indexOf(t)>-1).on("change.widgets.adaptable",$.proxy(f,s,e)),o=$("<label />").append(n).append(t),l=$("<li />").append(o);r.append(l)}),t.append(r)}function r(t){var e=$("<button />").attr("type","button").addClass("More").text("More").on("click.widgets.adaptable",$.proxy(m,this));t.append(e)}function s(t,e,a){var n=$("<input />").attr("type","checkbox").data("Column",e).on("change.widgets.adaptable",$.proxy(g,this,a)),i=$("<label />").append(n).append(e.Header),r=$("<li />").append(i);t.append(r)}function o(t,e,a){var n=$("<input />").attr("type","Numeric"===e?"number":"text").attr("id","txtStart"),i=$("<span>and</span>").addClass("Hidden"),r=$("<input />").attr("type","Numeric"===e?"number":"text").attr("id","txtEnd").addClass("Hidden");a.length&&(n.val(a[0].Operand),2===a.length&&(i.removeClass("Hidden"),r.val(a[1].Operand).removeClass("Hidden"))),t.append(n).append(i).append(r)}function l(t){if(this.Instance.Options.CanSearch){var e=$("<input />").attr("type","search").attr("placeholder","Contains text").on("keypress.widgets.adaptable",$.proxy(u,this)),a=Lazy(this.Instance.Element.data("Layout").Query.Filters).findWhere({Column:""});a&&e.attr("value",a.Operand);var n=$("<button />").attr("type","button").addClass("Search").append('<i class="fa fa-search"></i>').on("click.widgets.adaptable",$.proxy(u,this));t.append(e).append(n)}}function d(t,e,a){var n=$("<select />"),i={"Is greater than":">","Is greater than or equal to":">=","Is less than":"<","Is less than or equal to":"<=",Is:"=","Is not":"!="};"Text"!==e&&(i["Is between"]="BETWEEN"),Lazy(i).each(function(t,e){var a=$("<option />").text(e).val(t);n.append(a)}),2===a.length?n.children("option[value='BETWEEN']").attr("selected",!0):a.length&&n.children("option[value='"+a[0].Operator+"']").attr("selected",!0),n.on("change.widgets.adaptable",function(t){var e=$(t.target);"BETWEEN"===e.val()?e.parent().children("span, input:last-of-type").removeClass("Hidden"):e.parent().children("span, input:last-of-type").addClass("Hidden")}),t.append(n)}function c(t,e){e.preventDefault();var a=$(e.target),n=a.children("select").val();"BETWEEN"!==n?this.addFilter(t.Name,n,a.children("input:first").val(),!0):(this.addFilter(t.Name,">=",a.children("input:first").val(),!1),this.addFilter(t.Name,"<=",a.children("input:last").val(),!0)),this.Instance.toggleMenu(e)}function h(t,e,a){var n=t.children("span.Operator"),i=t.children("span.Operand");if("<="===e.Operator&&" >= "===n.text()?n.text(" between "):"IN"===e.Operator?n.text(" is "):"NOT IN"===e.Operator?n.text(" is not "):n.text(" "+e.Operator+" "),"Date"===a.DataType){var r=e.Operand.split("-"),s=new Date(parseInt(r[0]),parseInt(r[1])-1,parseInt(r[2])),o=s.getMonth()+1+"/"+s.getDate()+"/"+s.getFullYear();if(" between "!==n.text())i.text(o);else{t.children("span").text().split(" ");i.text(i.text()+" and "+o)}}else"Numeric"===a.DataType?i.text(e.Operand):e.Operand.length>20?i.text(e.Operand.substr(0,20)+"..."):i.text(e.Operand)}function u(t){if("keypress"!==t.type||13===t.keyCode){var e=$(t.target).parents("div.Filters").children("input[type='search']");e.val().trim().length<1?this.removeFilter("",!0):this.addFilter("","LIKE",e.val(),!0)}}function p(e,a){"BUTTON"!==e.target.tagName.toUpperCase()&&(e.target=e.target.parentElement);var r=$(e.target),s=(r.parents("div.Filters"),$('<form action="#" />')),l=(this.Instance.Element.data("Layout"),Lazy(this.Instance.Element.data("Layout").Query.Filters).where({Column:a.Name}).toArray());switch(a.DataType){case"Numeric":case"Text":d(s,a.DataType,l),o(s,a.DataType,l),n.call(this,s,a);break;case"Lookup":i.call(this,s,a);break;case"Date":d(s,a.DataType,l),t(s,a,l),n.call(this,s,a);break;default:throw new Error("Unsupported data type for column: "+a.Name+".")}this.Instance.toggleMenu(e,s)}function g(t,a){var n=$(a.target);"INPUT"!==n.prop("tagName").toUpperCase()&&(n=n.children().first());var i=n.parents("li").index(),r=t.children("div");t.children("ol.More-Filters").children("li:nth-child("+(i+1)+")").find("input").prop("checked",n.prop("checked")),n.is(":checked")?e.call(this,r,n.data("Column")):r.children("button").filter(function(t,e){return $(e).data("Column")===n.data("Column")}).remove()}function f(t,e){var a=$(e.target).parents("form").find("input:checked");if(a.length){var n=[];a.parent().each(function(t,e){n.push($(e).text().trim())}),this.addFilter.call(this,t.Name,"IN",n.join(),!1)}else this.removeFilter(t.Name,!1);this.Instance.getData()}function m(t){this.Instance.toggleMenu(t,$(t.target).parent().children("ol.More-Filters"))}if(!window.AdapTable)throw new Error("AdapTable core hasn't loaded.");AdapTable.Filtering=function(t){this.Instance=t,this.Instance.Element.on("repaint.widgets.adaptable columns-moved.widgets.adaptable",$.proxy(this.reflectFilters,this))},AdapTable.Filtering.prototype={addFilter:function(t,e,a,n){if("LIKE"!==e.toUpperCase()&&(!t||t.trim().length<1))throw new Error("Cannot create a filter: no column was specified.");if(!e||e.trim().length<1)throw new Error("Cannot create a filter: no operator was specified.");if(!a||a.trim().length<1)throw new Error("Cannot create a filter: no operand was specified.");var i=this.Instance.Element.data("Layout");i.Query.Filters||(i.Query.Filters=[]);var r=Lazy(i.Query.Filters).findWhere({Column:t}),s=Lazy(i.Columns).findWhere({Name:t});r&&"Date"!==s.DataType?(r.Operator=e,r.Operand=a):i.Query.Filters.push({Column:t,Operator:e,Operand:a}),this.Instance.cacheLayout(i),n&&this.Instance.getData()},reflectFilters:function(){var t=this.Instance.Container.children("section:first-child"),e=t.children("div.Filters");e.length?e.empty():(e=$("<div />").addClass("Filters"),t.prepend(e)),a.call(this,e),r.call(this,e),l.call(this,e);var n=$("<div />").addClass("Additional-Filters");e.append(n)},removeFilter:function(t,e){var a=this.Instance.Element.data("Layout");a.Query.Filters=Lazy(a.Query.Filters).reject(function(e,a){return e.Column===t}).toArray(),this.Instance.cacheLayout(a),e&&this.Instance.getData()}}}(),function(){"use strict";function t(){if(!this.Instance.Container.find("div.Groups").length){var t=$("<ol />").sortable({axis:"x",connectWith:"div.Remove-Group",containment:this.Instance.Container,cursorAt:{left:5,top:5},items:"li",out:c,over:$.proxy(o,this),start:$.proxy(d,this),stop:$.proxy(s,this),update:$.proxy(l,this)}).disableSelection(),e=$("<i />").addClass("fa fa-cubes").attr("title","Drag and drop a column here to group by that column"),a=$("<div />").addClass("Add-Group").append(e).sortable({out:c,over:$.proxy(o,this),start:$.proxy(d,this),stop:$.proxy(s,this),update:$.proxy(l,this)}).disableSelection(),n=$("<i />").addClass("fa fa-trash-o").attr("title","Drag and drop a grouped column here to stop grouping by that column"),i=$("<div />").addClass("Remove-Group").append(n).sortable({update:$.proxy(r,this)}).disableSelection(),h=$("<div />").addClass("Groups").append(t).append(a).append(i);this.Instance.Container.children("section:first-child").prepend(h)}}function e(t,e,a,n,i){var r=this.Instance.Element.data("Layout"),s=$("<tr />").attr("role","group").attr("data-grouplevel",e+1).addClass("Aggregates"),o=this.Instance.Element.data("Data").Aggregates[a];if(o){for(var l=0;l<n;l++){if(o[r.Columns[l].Name]){var d=$("<a />").attr("title","Show the group name.").text(o[r.Columns[l].Name]).on("click.widgets.adaptable",h),c=$("<td />").append(d);s.append(c)}else s.append("<td />");this.Instance.Element.find("th:nth-child("+(l+1)+")").is(":visible")||s.children(":last").hide()}s.insertBefore(i)}}function a(){var t=this.Instance.Element.data("Layout");if(t.Query.Groups.length){var a=this.Instance.Element.children("tbody"),i=t.Columns.length,r=[];Lazy(t.Query.Groups).each(function(e,a){var n=Lazy(t.Columns);r.push({ColumnIndex:n.indexOf(n.findWhere({Name:t.Query.Groups[a]})),Name:t.Query.Groups[a],Current:null})});var s=this;a.children("tr").each(function(t,a){a=$(a);var o=Lazy(r),l=o.join("|");o.each(function(t,r){var o=a.children(":nth-child("+(t.ColumnIndex+1)+")").text().trim();t.Current!==o&&(t.Current=o,n.call(s,t.Current,r,l,i,a),e.call(s,t.Current,r,l,i,a))})})}}function n(t,e,a,n,i){var r=$("<i />").addClass("fa fa-chevron-up").on("click.widgets.adaptable",u),s=$("<td />").attr("colspan",n).css("padding-left",14*e+"px").append(r).append(t);if(this.Instance.Element.data("Data").Aggregates[a]){var o=$("<i />").addClass("fa fa-calculator").attr("title","Show aggregates.").on("click.widgets.adaptable",h);s.append(o)}var l=$("<tr />").attr("role","group").attr("data-grouplevel",e+1).append(s);l.insertBefore(i)}function i(t,e){this.addGroup(t,e);var a=Lazy(this.Instance.Element.data("Layout").Columns).findWhere({Name:t}),n=this.Instance.Container.find("div.Groups > ol");n.children().length?n.children(":nth-child("+e+")").after("<li>"+a.Header+"</li>"):n.append("<li>"+a.Header+"</li>")}function r(t,e){e.item.remove();this.Instance.Element.data("Layout");this.removeGroup(e.item.text())}function s(t,e){if(e.item.parent().length&&null!==this.Instance.Sortable.EndIndex&&this.Instance.Sortable.StartIndex!==this.Instance.Sortable.EndIndex){var a=this.Instance.Element.data("Layout");this.Instance.bubbleArrayItems(a.Query.Groups,this.Instance.Sortable.StartIndex,this.Instance.Sortable.EndIndex),this.Instance.getData(),this.Instance.cacheLayout(a)}}function o(t,e){if(e.item.children("table").length){var a=Lazy(this.Instance.Element.data("Layout").Columns).findWhere({Header:e.item.find("th").text().trim()});e.item.children().hide(),e.item.append("<span>"+e.item.find("th").text().trim()+"</span>").addClass(a.IsGroupable?"Group":"Cannot-Group")}}function l(t,e){e.sender||(this.Instance.Sortable.EndIndex=e.item.index(),this.Instance.Sortable.toggleTextSelection()),e.item.remove()}function d(t,e){this.Instance.Sortable.StartIndex=e.item.index(),this.Instance.Sortable.toggleTextSelection()}function c(t,e){e.item.children("table").length&&(e.item.removeClass("Group Cannot-Group"),e.item.children("span").hide(),e.item.children("table, div").show())}function h(t){var e=$(this),a=e.parents("tr");a.hide(),e.hasClass("fa-calculator")?a.next().show():a.prev().show()}function u(t){var e,a=$(this),n=a.parents("tr");a.hasClass("fa-chevron-up")?(e=!0,a.removeClass("fa-chevron-up").addClass("fa-chevron-down")):(e=!1,a.removeClass("fa-chevron-down").addClass("fa-chevron-up"));for(var i=n.next();i.length&&(i.hasClass("Aggregates")||parseInt(i.attr("data-grouplevel")||99)>parseInt(n.attr("data-grouplevel")));)i.hasClass("Aggregates")?i.hide():(i.attr("data-grouplevel")&&(a=i.find("td > i"),a.hasClass("fa-chevron-down")&&a.removeClass("fa-chevron-down").addClass("fa-chevron-up")),e?i.hide():i.show()),i=i.next()}if(!window.AdapTable)throw new Error("AdapTable core hasn't loaded.");AdapTable.Grouping=function(t){this.Instance=t,this.Instance.Element.on("repaint.widgets.adaptable",$.proxy(this.applyGrouping,this))},AdapTable.Grouping.prototype={addGroup:function(t,e){if(!t||t.trim().length<1)throw new Error("Cannot create a group: no column was specified.");t=t.trim();var a=this.Instance.Element.data("Layout");if(null===e&&(e=a.Query.Groups.length),a.Query.Groups.indexOf(t)<0){a.Query.Groups.splice(e,0,t);var n=Lazy(a.Columns).findWhere({Name:t});n.IsVisible=!1,this.Instance.getData(),this.Instance.cacheLayout(a)}this.Instance.Container.find("div.Grouping > div.Add-Group").sortable("disable")},applyGrouping:function(){var e=this.Instance.Element.data("Layout");if(e&&e.Query&&e.Query.Groups&&e.Query.Groups.length){t.call(this),this.Instance.Container.find("div.Groups > ol > li").remove();var n=this;Lazy(e.Query.Groups).each(function(t,e){i.call(n,t,e)});var r=this.Instance.Element.data("Data");r.Pages[e.Query.PageIndex].Items.length&&a.call(this)}},removeGroup:function(t){var e=this.Instance.Element.data("Layout"),a=Lazy(e.Columns).findWhere({Name:t});a&&(e.Query.Groups.splice(e.Query.Groups.indexOf(t),1),a.IsVisible=!0,this.Instance.getData(),this.Instance.cacheLayout(e),e.Query.Groups.length||this.Instance.Container.find("div.Grouping > div.Add-Group").sortable("enable"))}}}(),function(){"use strict";function t(t,e,a,n){t.empty();var i,r=e.Query.PageIndex*e.Query.PageSize+1;i=e.Query.PageIndex===n?a:(e.Query.PageIndex+1)*e.Query.PageSize;var s=$("<span />").addClass("Adaptable-Page-Start").text(r),o=$("<span />").addClass("Adaptable-Page-End").text(i),l=$("<span />").addClass("Adaptable-Total-Items").text(a);t.append(s).append("-").append(o).append(" of ").append(l)}function e(t,e,a){t.empty();for(var i=e<3?1:e,r=a>e+3?e+3:a,s=i;s<=r;s++)s==e+1?t.append("<li><strong>"+s+"</strong></li>"):t.append('<li><a href="javascript:void(0);">'+s+"</a></li>");i>1?t.prepend("<li>...</li>").prepend('<li><a href="javascript:void(0);">1</a></li>'):r<a&&t.append("<li>...</li>").append('<li><a href="javascript:void(0);">'+a+"</a></li>"),t.find("a").on("click",$.proxy(n,this))}function a(){var a=this.Instance.Container.children("section:last-of-type");a.children("ol").length||a.append("<div />").append("<ol />");var n=this.Instance.Element.data("Layout"),r=i.call(this),s=Math.ceil(r/n.Query.PageSize);t.call(this,a.children("div"),n,r,s),e.call(this,a.children("ol"),n.Query.PageIndex,s)}function n(t){t.preventDefault();var e=this.Instance.Element.data("Layout");e.Query.PageIndex=parseInt($(t.target).text())-1,this.Instance.getData(!0),this.Instance.cacheLayout(e)}function i(){var t=this.Instance.Element.data("Data");return null!=t?t.TotalItems:0}if(!window.AdapTable)throw new Error("AdapTable core hasn't loaded.");AdapTable.Paging=function(t){this.Instance=t,this.Instance.Element.on("repaint.widgets.adaptable",$.proxy(this.configurePaging,this))},AdapTable.Paging.prototype={configurePaging:function(){var t=this.Instance.Element.data("Layout");t&&t.Query&&"pager"===this.Instance.Options.Paging.toLowerCase()&&a.call(this)}}}(),function(){"use strict";function t(t,e){var n,i;if(t<e)for(n=t;n<e;n++){var r=this.Instance.Element.children(this.Instance.Options.ExcludeFooter?":not(tfoot)":"").children("tr:not([role])").children(":nth-child("+n+")"),s=this.Instance.Element.children(this.Instance.Options.ExcludeFooter?":not(tfoot)":"").children("tr:not([role])").children(":nth-child("+(n+1)+")");for(i=0;i<r.length;i++)a(r[i],s[i])}else if(t>e)for(n=t;n>e;n--)for(s=this.Instance.Element.children(this.Instance.Options.ExcludeFooter?":not(tfoot)":"").children("tr:not([role])").children(":nth-child("+n+")"),r=this.Instance.Element.children(this.Instance.Options.ExcludeFooter?":not(tfoot)":"").children("tr:not([role])").children(":nth-child("+(n-1)+")"),i=0;i<s.length;i++)a(s[i],r[i]);this.StartIndex=this.EndIndex=null}function e(t){var e=this.Instance.Element.data("Layout");if(e){var n=this;Lazy(e.Columns).each(function(t,e){var i=n.Instance.Element.find("th[data-column-name='"+t.Name+"']");t.IsMovable&&i.addClass("AdapTable-Movable"),i.index()!==e&&a(i[0],n.Instance.Element.find("th:nth-child("+(e+1)+")")[0]),n.Instance.Element.find("td[data-column-name='"+t.Name+"']").each(function(t,n){n=$(n),n.index()!==e&&a(n[0],n.parent().children("td:nth-child("+(e+1)+")")[0])})})}}function a(t,e){var a=t.parentNode,n=t.nextSibling===e?t:t.nextSibling;e.parentNode.insertBefore(t,e),a.insertBefore(e,n)}if(!window.AdapTable)throw new Error("AdapTable core hasn't loaded.");AdapTable.Positioning=function(t){this.Instance=t,this.Instance.Element.on("repaint.widgets.adaptable",$.proxy(e,this))},AdapTable.Positioning.prototype={rearrangeColumns:function(){t.call(this,this.Instance.Sortable.StartIndex,this.Instance.Sortable.EndIndex);var e=this.Instance.Element.data("Layout");this.Instance.Element.find("th").each(function(t,a){var n=e.Columns.indexOf($(a).data("Column")),i=e.Columns[t];e.Columns[t]=e.Columns[n],e.Columns[n]=i}),this.Instance.cacheLayout(e),this.Instance.Element.trigger("columns-moved.widgets.adaptable")}}}(),function(){"use strict";function t(t){var e=this;this.Instance.Element.find("thead > tr > th").each(function(a,n){var i=$("<li />");e.DraggableList.append(i),n=$(n),n.is(":visible")?!e.Instance.Options.MovableColumns&&n.text().trim().length>0?i.addClass("AdapTable-Sortable"):e.Instance.Options.MovableColumns&&n.is(e.Instance.Options.MovableColumns)&&i.addClass("AdapTable-Sortable"):i.css("display","none");var r=$("<table />");i.append(r);for(var s in t.Attributes)r.attr(s,t.Attributes[s]);var o=$("<thead />");r.append(o);var l=$("<tbody />");r.append(l),e.Instance.Element.children(e.Instance.Options.ExcludeFooter?":not(tfoot)":"").children("tr:visible").children(":first-child").each(function(e,n){var i=$(n).parent().children(":nth-child("+(a+1)+")"),r=$("<tr />");for(var s in t.RowAttributes[e])r.attr(s,t.RowAttributes[e][s]);"th"===n.tagName.toLowerCase()?o.append(r):l.append(r),i.length?i.text().trim().length<1?r.append(i.clone().html("&nbsp;")):r.append(i.clone()):r.append("<td>&nbsp;</td>")})})}function e(){var e=n(this.Instance.Element,this.Instance.Options.ExcludeFooter);e.Width+=2,this.DraggableList=$("<ol />").attr("id","olAdapTable").attr("unselectable","on").css("position","absolute").css("width",e.Width+"px"),t.call(this,e),this.DraggableList.insertBefore(this.Instance.Element).find("li > table").each(function(t){$(this).css("width",e.HeaderWidths[t]+"px")})}function a(t){this.DraggedRow=this.DraggableList.children(":nth-child("+this.StartIndex+")"),this.toggleTextSelection(),this.DraggedRow.trigger($.extend($.Event(t.type),{which:1,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY}))}function n(t,e){var a={};return a.Attributes={},a.RowAttributes=[],a.Width=0,$.map(t[0].attributes,function(t){t.specified&&"id"!==t.name&&(a.Attributes[t.name]=t.value)}),a.HeaderWidths=$.map(t.find("thead > tr > th"),function(t){return t=$(t),a.Width+=t.outerWidth(),t.outerWidth()}),t.children(e?":not(tfoot)":"").children("tr:visible").each(function(t){a.RowAttributes[t]={},$.map(this.attributes,function(e){e.specified&&"id"!==e.name&&(a.RowAttributes[t][e.name]=e.value)})}),a}function i(t,e){if(this.Instance.Sortable.DraggableList.addClass("AdapTable-Disabled").sortable("disable"),e.item.parent()[0]===this.DraggableList[0])this.EndIndex=this.DraggedRow.index()+1,this.Instance.Positioning.rearrangeColumns();else{this.EndIndex=this.DraggedRow.index();var a=Lazy(this.Instance.Element.data("Layout").Columns).findWhere({Header:e.item.find("th").text()});a.IsGroupable?this.Instance.Grouping.addGroup(a.Name,this.EndIndex):e.item.remove()}this.DraggableList.remove(),this.DraggableList=null,this.DraggedRow=null,this.toggleTextSelection()}if(!window.AdapTable)throw new Error("AdapTable core hasn't loaded.");if(!jQuery.ui.sortable)throw new Error("jQuery UI isn't detected; grouping and column positioning require jQuery UI.");AdapTable.Sortable=function(t){this.Instance=t,this.Instance.Element.on("mousedown.widgets.adaptable","th.AdapTable-Movable",$.proxy(this.buildSortable,this))},AdapTable.Sortable.prototype={buildSortable:function(t){if(1===t.which&&"A"!==t.target.tagName.toUpperCase()){t.stopPropagation(),e.call(this),this.DraggableList.sortable({containment:this.Container,cursorAt:{left:5,top:5},distance:0,items:".AdapTable-Sortable",stop:$.proxy(i,this),tolerance:"pointer"}).disableSelection(),this.Instance.getAttribute("groupable")?this.DraggableList.sortable("option","connectWith","div.Add-Group, div.Groups > ol"):this.DraggableList.sortable("option","axis","x");this.StartIndex=$(t.target).closest("th").index()+1,a.call(this,t);var n=this.DraggableList.find(".ui-sortable-placeholder");n.height()>0&&(n.css("height",this.Instance.Element.height()),n.append('<div style="height: 100%;" />'))}},toggleTextSelection:function(){var t=$(document.body);t.attr("unselectable")?(t.attr("unselectable","on").addClass("Disable-Text-Selection").on("selectstart.widgets.adaptable",!1),window.getSelection().removeAllRanges()):t.removeAttr("unselectable").removeClass("Disable-Text-Selection").off("selectstart")}}}();var dragging,draggingHeight,placeholders=[],sortables=[],_data=function(t,e,a){return void 0===a?t&&t.h5s&&t.h5s.data&&t.h5s.data[e]:(t.h5s=t.h5s||{},t.h5s.data=t.h5s.data||{},t.h5s.data[e]=a,void 0)},_removeData=function(t){t.h5s&&delete t.h5s.data},_matches=function(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e)},_filter=function(t,e){if(!e)return Array.prototype.slice.call(t);for(var a=[],n=0;n<t.length;++n)"string"==typeof e&&_matches(t[n],e)&&a.push(t[n]),e.indexOf(t[n])!==-1&&a.push(t[n]);return a},_on=function(t,e,a){if(t instanceof Array)for(var n=0;n<t.length;++n)_on(t[n],e,a);else t.addEventListener(e,a),t.h5s=t.h5s||{},t.h5s.events=t.h5s.events||{},t.h5s.events[e]=a},_off=function(t,e){if(t instanceof Array)for(var a=0;a<t.length;++a)_off(t[a],e);else t.h5s&&t.h5s.events&&t.h5s.events[e]&&(t.removeEventListener(e,t.h5s.events[e]),delete t.h5s.events[e])},_attr=function(t,e,a){if(t instanceof Array)for(var n=0;n<t.length;++n)_attr(t[n],e,a);else t.setAttribute(e,a)},_removeAttr=function(t,e){if(t instanceof Array)for(var a=0;a<t.length;++a)_removeAttr(t[a],e);else t.removeAttribute(e)},_offset=function(t){var e=t.getClientRects()[0];return{left:e.left+window.scrollX,top:e.top+window.scrollY}},_removeItemEvents=function(t){_off(t,"dragstart"),_off(t,"dragend"),_off(t,"selectstart"),_off(t,"dragover"),_off(t,"dragenter"),_off(t,"drop")},_removeSortableEvents=function(t){_off(t,"dragover"),_off(t,"dragenter"),_off(t,"drop")},_attachGhost=function(t,e){t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text","arbitrary-content"),t.dataTransfer.setDragImage&&t.dataTransfer.setDragImage(e.draggedItem,e.x,e.y)},_addGhostPos=function(t,e){return e.x||(e.x=parseInt(t.pageX-_offset(e.draggedItem).left)),e.y||(e.y=parseInt(t.pageY-_offset(e.draggedItem).top)),e},_makeGhost=function(t){return{draggedItem:t}},_getGhost=function(t,e){var a=_makeGhost(e);a=_addGhostPos(t,a),_attachGhost(t,a)},_removeSortableData=function(t){_removeData(t),_removeAttr(t,"aria-dropeffect")},_removeItemData=function(t){_removeAttr(t,"aria-grabbed"),_removeAttr(t,"draggable"),_removeAttr(t,"role")},_listsConnected=function(t,e){var a=_data(t,"opts").acceptFrom;return null!==a?a!==!1&&a.split(",").filter(function(t){return t.length>0&&_matches(e,t)}).length>0:t===e||void 0!==_data(t,"connectWith")&&_data(t,"connectWith")===_data(e,"connectWith")},_getHandles=function(t,e){var a,n=[];if(!e)return t;for(var i=0;i<t.length;++i)a=t[i].querySelectorAll(e),n=n.concat(Array.prototype.slice.call(a));return n},_destroySortable=function(t){var e=_data(t,"opts")||{},a=_filter(_getChildren(t),e.items),n=_getHandles(a,e.handle);_removeSortableEvents(t),_removeSortableData(t),_off(n,"mousedown"),_removeItemEvents(a),_removeItemData(a)},_enableSortable=function(t){var e=_data(t,"opts"),a=_filter(_getChildren(t),e.items),n=_getHandles(a,e.handle);_attr(t,"aria-dropeffect","move"),_data(t,"_disabled","false"),_attr(n,"draggable","true");var i=(document||window.document).createElement("span");"function"!=typeof i.dragDrop||e.disableIEFix||_on(n,"mousedown",function(){if(a.indexOf(this)!==-1)this.dragDrop();else{for(var t=this.parentElement;a.indexOf(t)===-1;)t=t.parentElement;t.dragDrop()}})},_disableSortable=function(t){var e=_data(t,"opts"),a=_filter(_getChildren(t),e.items),n=_getHandles(a,e.handle);_attr(t,"aria-dropeffect","none"),_data(t,"_disabled","true"),_attr(n,"draggable","false"),_off(n,"mousedown")},_reloadSortable=function(t){var e=_data(t,"opts"),a=_filter(_getChildren(t),e.items),n=_getHandles(a,e.handle);_data(t,"_disabled","false"),_removeItemEvents(a),_off(n,"mousedown"),_removeSortableEvents(t)},_index=function(t){return t.parentElement?Array.prototype.indexOf.call(t.parentElement.children,t):0},_attached=function(t){return!!t.parentNode},_html2element=function(t,e){if("string"!=typeof t)return t;var a=document.createElement(e);return a.innerHTML=t,a.firstChild},_before=function(t,e){t.parentElement.insertBefore(e,t)},_after=function(t,e){t.parentElement.insertBefore(e,t.nextElementSibling)},_detach=function(t){t.parentNode&&t.parentNode.removeChild(t)},_makeEvent=function(t,e){var a=document.createEvent("Event");return e&&(a.detail=e),a.initEvent(t,!1,!0),a},_dispatchEventOnConnected=function(t,e){sortables.forEach(function(a){_listsConnected(t,a)&&a.dispatchEvent(e)})},_getChildren=function(t){return t.children},_serialize=function(t){var e=_filter(_getChildren(t),_data(t,"items"));return e},sortable=function(t,e){var a=String(e);if(e=function(t){var e={connectWith:!1,acceptFrom:null,placeholder:null,disableIEFix:!1,placeholderClass:"sortable-placeholder",draggingClass:"sortable-dragging",hoverClass:!1,debounce:0,maxItems:0};for(var a in t)e[a]=t[a];return e}(e),e&&"function"==typeof e.getChildren&&(_getChildren=e.getChildren),"string"==typeof t&&(t=document.querySelectorAll(t)),t instanceof window.Element&&(t=[t]),t=Array.prototype.slice.call(t),/serialize/.test(a)){var n=[];return t.forEach(function(t){n.push({list:t,children:_serialize(t)})}),n}return t.forEach(function(t){if(/enable|disable|destroy/.test(a))return sortable[a](t);e=_data(t,"opts")||e,_data(t,"opts",e),_reloadSortable(t);var n,i,r,s,o=_filter(_getChildren(t),e.items),l=e.placeholder;if(l||(l=document.createElement(/^ul|ol$/i.test(t.tagName)?"li":"div")),l=_html2element(l,t.tagName),l.classList.add.apply(l.classList,e.placeholderClass.split(" ")),!t.getAttribute("data-sortable-id")){var d=sortables.length;sortables[d]=t,_attr(t,"data-sortable-id",d),_attr(o,"data-item-sortable-id",d)}if(_data(t,"items",e.items),placeholders.push(l),e.acceptFrom?_data(t,"acceptFrom",e.acceptFrom):e.connectWith&&_data(t,"connectWith",e.connectWith),_enableSortable(t),_attr(o,"role","option"),_attr(o,"aria-grabbed","false"),e.hoverClass){var c="sortable-over";"string"==typeof e.hoverClass&&(c=e.hoverClass),_on(o,"mouseenter",function(){this.classList.add(c)}),_on(o,"mouseleave",function(){this.classList.remove(c)})}e.maxItems&&"number"==typeof e.maxItems&&(s=e.maxItems),_on(o,"dragstart",function(a){a.stopImmediatePropagation(),e.handle&&!_matches(a.target,e.handle)||"false"===this.getAttribute("draggable")||(_getGhost(a,this),this.classList.add(e.draggingClass),dragging=this,_attr(dragging,"aria-grabbed","true"),n=_index(dragging),draggingHeight=parseInt(window.getComputedStyle(dragging).height),i=this.parentElement,r=_serialize(i),_dispatchEventOnConnected(t,_makeEvent("sortstart",{item:dragging,placeholder:l,startparent:i})))}),_on(o,"dragend",function(){var a;dragging&&(dragging.classList.remove(e.draggingClass),_attr(dragging,"aria-grabbed","false"),dragging.style.display=dragging.oldDisplay,delete dragging.oldDisplay,placeholders.forEach(_detach),a=this.parentElement,_dispatchEventOnConnected(t,_makeEvent("sortstop",{item:dragging,startparent:i})),n===_index(dragging)&&i===a||_dispatchEventOnConnected(t,_makeEvent("sortupdate",{item:dragging,index:_filter(_getChildren(a),_data(a,"items")).indexOf(dragging),oldindex:o.indexOf(dragging),elementIndex:_index(dragging),oldElementIndex:n,startparent:i,endparent:a,newEndList:_serialize(a),newStartList:_serialize(i),oldStartList:r})),dragging=null,draggingHeight=null)}),_on([t,l],"drop",function(e){var a;_listsConnected(t,dragging.parentElement)&&(e.preventDefault(),e.stopPropagation(),a=placeholders.filter(_attached)[0],_after(a,dragging),dragging.dispatchEvent(_makeEvent("dragend")))});var h=_debounce(function(t,a){if(dragging)if(o.indexOf(t)!==-1){var n=parseInt(window.getComputedStyle(t).height),i=_index(l),r=_index(t);if(e.forcePlaceholderSize&&(l.style.height=draggingHeight+"px"),n>draggingHeight){var s=n-draggingHeight,d=_offset(t).top;if(i<r&&a<d+s)return;if(i>r&&a>d+n-s)return}void 0===dragging.oldDisplay&&(dragging.oldDisplay=dragging.style.display),"none"!==dragging.style.display&&(dragging.style.display="none"),i<r?_after(t,l):_before(t,l),placeholders.filter(function(t){return t!==l}).forEach(_detach)}else placeholders.indexOf(t)!==-1||_filter(_getChildren(t),e.items).length||(placeholders.forEach(_detach),t.appendChild(l))},e.debounce),u=function(e){dragging&&_listsConnected(t,dragging.parentElement)&&"true"!==_data(t,"_disabled")&&(s&&_filter(_getChildren(t),_data(t,"items")).length>=s||(e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="move",h(this,e.pageY)))};_on(o.concat(t),"dragover",u),_on(o.concat(t),"dragenter",u)}),t};sortable.destroy=function(t){_destroySortable(t)},sortable.enable=function(t){_enableSortable(t)},sortable.disable=function(t){_disableSortable(t)},function(){"use strict";function t(t,e,a,n){var i=e.children("a");i.length?i.children("i").remove():(i=$("<a />").attr("href","javascript:void(0);").text(e.text().trim()),
e.empty().append(i)),t.Query.Sort&&t.Query.Sort.substr(0,n.Name.length)===n.Name&&(t.Query.SortDirection&&"DESC"===t.Query.SortDirection.toUpperCase()?i.append('<i class="fa fa-sort-alpha-desc" />'):i.append('<i class="fa fa-sort-alpha-asc" />'))}if(!window.AdapTable)throw new Error("AdapTable core hasn't loaded.");AdapTable.Sorting=function(t){this.Instance=t,this.Instance.Element.on("repaint.widgets.adaptable",$.proxy(this.reflectSorting,this)).on("click.widgets.adaptable","th > a",$.proxy(this.sortData,this))},AdapTable.Sorting.prototype={reflectSorting:function(){var e=this.Instance.Element.data("Layout");if(e){var a=this,n=Lazy(e.Columns);n.where({IsSortable:!0}).each(function(i,r){if(i.Name){var s=a.Instance.Element.find("th[data-column-name='"+i.Name+"']");t(e,s,n.indexOf(i),i)}})}},sortData:function(t){t.stopPropagation();var e=$(t.target),a=this.Instance.Element.data("Layout");a.Query.Sort===e.parent().data("Column").Name?"DESC"===a.Query.SortDirection?a.Query.SortDirection="ASC":a.Query.SortDirection="DESC":a.Query.SortDirection="ASC",a.Query.Sort=e.parent().data("Column").Name,this.Instance.getData(),this.Instance.cacheLayout(a)}}}(),function(){"use strict";function t(){this.Instance.Container.find("div.Actions > ol.Columns").remove();var t=$("<ol />").addClass("Columns");this.Instance.Container.find("div.Actions").append(t);var e=this,n=this.Instance.Element.data("Layout").Columns;Lazy(n).each(function(n,i){var r=$("<input />").attr("type","checkbox").prop("checked",n.IsVisible).on("change.widgets.adaptable",e.Instance.Options,$.proxy(a,e)),s=$("<label />").append(r),o=$("<li />").append(s);!n.Header||n.Header.trim().length<1?o.hide():s.append(n.Header),t.append(o)})}function e(t){this.Instance.toggleMenu(t,$(t.target).parent().children("ol.Columns"))}function a(t){var e=$(t.target),a=e.parents("li").index();e.parents("div.AdapTable").children("table");n.call(this,a,e.is(":checked"))}function n(t,e){var a=this.Instance.Element.children(this.Instance.Options.ExcludeFooter?":not(tfoot)":"").children("tr:not([role='group'])").children(":nth-child("+(t+1)+")");if(e?a.show():a.hide(),this.Instance.Options.Layout.Url){var n=this.Instance.Element.data("Layout");n.Columns[t].IsVisible=e,this.Instance.cacheLayout(n)}}if(!window.AdapTable)throw new Error("AdapTable core hasn't loaded.");AdapTable.Views=function(e){this.Instance=e,this.Instance.Element.on("repaint.widgets.adaptable",$.proxy(this.applyView,this)).on("columns-moved.widgets.adaptable",$.proxy(t,this))},AdapTable.Views.prototype={applyView:function(){var a=this.Instance.Element.data("Layout");if(a){var i=this,r=Lazy(a.Columns);r.where({IsVisible:!0}).each(function(t){n.call(i,r.indexOf(t),!0)}),r.where({IsHidable:!0,IsVisible:!1}).each(function(t){n.call(i,r.indexOf(t),!1)}),this.Instance.Container.find(".fa-columns").length||(this.Instance.addActionButton("fa-columns","Select which columns are viewable",$.proxy(e,this)),t.call(this))}}}}();