!function(t,e,a,n){"use strict";function i(e){e.stopPropagation();var a="header"===e.target.tagName.toLowerCase()?t(e.target):t(e.target).parent("header");if(a.hasClass("Expanded")){if(!this.Options.Collapsible)return;a.removeClass("Expanded")}else this.Keys.removeClass("Expanded"),a.addClass("Expanded")}function s(){var e=this.Options.HoverToggle?"mouseenter.widgets.accordion":"click.widgets.accordion";this.Element.on(e,"header, header *",t.proxy(i,this))}var o={Collapsible:!1,HoverToggle:!1,Orientation:"Vertical"},r=function(e,a){this.Element=e,this.Keys=e.children("header"),this.Options=t.extend({},o,a),"horizontal"===this.Options.Orientation.toLowerCase()?(this.Element.addClass("Accordion-Horizontal"),this.Element.children("header").wrapInner("<div />")):this.Element.addClass("Accordion-Vertical");var n=e.children("header.Expanded");if(this.Keys.length<1)throw new Error("No keys could be found.");if(n.length>1)throw new Error("Only one key on an accordion can be expanded.");n.length<1&&e.children("header:first").addClass("Expanded"),s.call(this)};r.prototype={destroy:function(){this.Element.removeData("Accordion").removeClass("Accordion-Vertical").removeClass("Accordion-Horizontal").off(".widgets.accordion"),this.Element.children().removeClass("Expanded")}},t.fn.Accordion=function(e){var a=arguments;if(e===n||"object"==typeof e)return this.each(function(){t.data(this,"Accordion")===n&&t.data(this,"Accordion",new r(t(this),e))});if("string"==typeof e){var i;return this.each(function(){var n=t.data(this,"Accordion");n instanceof r&&"function"==typeof n[e]&&(i=n[e].apply(n,Array.prototype.slice.call(a,1)))}),i!==n?i:this}}}(jQuery,window,document),function(t){"use strict";if(!window.jQuery)throw new Error("jQuery is required by the AdapTable jQuery plugin.");if(!window.Lazy)throw new Error("LazyJS is required by the AdapTable jQuery plugin.");window.AdapTable=function(){function e(){var e=window.ADAPTABLE_BASE_PATH||"";if(!e)for(var a=t("script"),n=0;n<a.length;n++){var i=a[n].src.match(r);if(i){e=i[1];break}}if(-1==e.indexOf(":/")&&"//"!=e.slice(0,2)&&(e=0===e.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+e:location.href.match(/^[^\?]*\/(?:)/)[0]+e),!e)throw new Error("Couldn't detect the path to the AdapTable scripts. You'll need to set the global variable 'ADAPTABLE_BASE_PATH' before creating AdapTable instances.");return e}function a(t){var e=[];return!t.CanMoveColumns&&!t.CanGroup||d.Sortable||e.push("sortable.js"),t.CanMoveColumns&&!d.Positioning&&e.push("positioning.js"),t.CanGroup&&!d.Grouping&&e.push("grouping.js"),t.Paging&&!d.Paging&&e.push("paging.js"),t.CanSort&&!d.Sorting&&e.push("sorting.js"),t.CanChangeView&&!d.Views&&e.push("views.js"),t.CanFilter&&!d.Filtering&&e.push("filtering.js"),e}function n(){if(this.Options.CanGroup||this.Options.CanMoveColumns){if(!d.Sortable)throw new Error("Sortable module hasn't loaded.");this.Sortable=new d.Sortable(this)}if(this.Options.CanMoveColumns){if(!d.Positioning)throw new Error("Positioning module hasn't loaded.");this.Positioning=new d.Positioning(this)}if(this.Options.CanGroup){if(!d.Grouping)throw new Error("Grouping module hasn't loaded.");this.Grouping=new d.Grouping(this)}if(this.Options.Paging){if(!d.Paging)throw new Error("Paging module hasn't loaded.");this.Paging=new d.Paging(this)}if(this.Options.CanSort){if(!d.Sorting)throw new Error("Sorting module hasn't loaded.");this.Sorting=new d.Sorting(this)}if(this.Options.CanChangeView){if(!d.Views)throw new Error("Views module hasn't loaded.");this.Views=new d.Views(this)}if(this.Options.CanFilter){if(!d.Filtering)throw new Error("Filtering module hasn't loaded.");this.Filtering=new d.Filtering(this)}}function i(t,e){var a=[];d.toggleMenu||a.push("helpers.js"),d.saveLayout||a.push("state.js"),d.ScriptLoader.getScripts(a,t,e)}function s(e,a){if(d.ScriptLoader)return void(a&&a());var n="script-loader.js",i=JSON.parse(localStorage.getItem(d.STORAGE_PREFIX+n));if(!i||i.Expiration<+new Date)t.ajax(d.BasePath+d.SUB_FOLDER+n,{method:"GET"}).done(function(t){i={Expiration:+new Date+1e3*e*60*60,Script:t},localStorage[d.STORAGE_PREFIX+n]=JSON.stringify(i);var t=document.createElement("script");t.type="text/javascript",t.text=i.Script,document.getElementsByTagName("head")[0].appendChild(t),a&&a()}).fail(function(t,e,a){throw new Error("Failed to retrieve: "+n+".\n\n"+a)});else if(a){var s=document.createElement("script");s.type="text/javascript",s.text=i.Script,document.getElementsByTagName("head")[0].appendChild(s),a&&a()}}function o(){if(!this.Element.children("thead").length)throw new Error("Table headers are required; no THEAD element found.");if(!this.Element.find("thead > tr > th").length)throw new Error("Table headers are required; no TH elements found.");this.Element.wrap('<div class="AdapTable" />').before("<section />").after("<section />"),this.Container=this.Element.parent("div.AdapTable"),this.Container.children("section:first-child").append('<div class="Actions" />').append('<div style="clear: both;" />'),this.Menu=t("<div />").attr("role","menu").on("click",function(t){t.stopPropagation()}),this.Container.append(this.Menu),t(document).on("click.widgets.adaptable",t.proxy(this.toggleMenu,this));var e=this;this.Options.ExportToExcelUrl&&this.addActionButton("fa-file-excel-o","Export to Excel",function(){t.get(e.Options.ExportToExcelUrl)}),this.Options.ExportToPdfUrl&&this.addActionButton("fa-file-pdf-o","Export to PDF",function(){t.get(e.Options.ExportToPdfUrl)})}var r=/(^|.*[\\\/])adaptable\.js(?:\?.*|;.*)?$/i,l={CanChangeView:!0,CanFilter:!0,CanGroup:!0,CanMoveColumns:!0,CanSearch:!0,CanSort:!0,Data:{},ExcludeFooter:!1,MovableColumns:null,Layout:{},ScriptExpiration:24},d={BasePath:e(),Container:null,Element:null,Options:null,STORAGE_PREFIX:"AdapTable: ",SUB_FOLDER:"adaptable/",_init:function(e,r){this.Element=e,this.Options=t.extend({},l,r);var h=this;s(this.Options.ScriptExpiration,function(){i(h.Options.ScriptExpiration,function(){var t=a(h.Options);d.ScriptLoader.getScripts(t,h.Options.ScriptExpiration,function(){n.call(h),o.call(h),h.initializeState()})})})},destroy:function(){this.Element.prev().remove(),this.Element.next().remove(),this.Element.parent().children("div[role='menu']").remove(),this.Element.removeData("AdapTable").removeData("Layout").removeData("Data").unwrap("div.AdapTable").off(".widgets.adaptable")}};return d}(),t.fn.AdapTable=function(e){var a=arguments;if(void 0===e||"object"==typeof e)return this.each(function(){if(void 0===t.data(this,"AdapTable")){var a=Object.create(AdapTable);a._init(t(this),e),t.data(this,"AdapTable",a)}});if("string"==typeof e){var n;return this.each(function(){var i=t.data(this,"AdapTable");if(AdapTable.isPrototypeOf(i)&&"function"==typeof i[e])n=i[e].apply(i,Array.prototype.slice.call(a,1));else for(var s in i)"object"==typeof i[s]&&"function"==typeof i[s][e]&&(n=i[s][e].apply(i[s],Array.prototype.slice.call(a,1)))}),void 0!==n?n:this}return this.each(function(){var e=Object.create(AdapTable);e._init(t(this),settings)})}}(jQuery),function(t,e,a,n){"use strict";function i(){var e=t("<ol />");this.Seats.each(function(){e.append(t("<li />"))}),e.children("li:first").addClass("Active");var a=this;this.Element.append(e).on("click.widgets.carousel.indicator","li",function(){a.rotate.call(a,t(this).index())})}function s(){var e=t("<a />").addClass("Left").attr("href","javascript:void(0);"+this.Element.attr("id")).append('<i class="fa fa-chevron-left" />').on("click.widgets.carousel",{nextSeat:"Left"},t.proxy(l,this)),a=t("<a />").addClass("Right").attr("href","javascript:void(0);"+this.Element.attr("id")).append('<i class="fa fa-chevron-right" />').on("click.widgets.carousel",{nextSeat:"Right"},t.proxy(l,this));this.Element.append(e).append(a)}function o(){this.Element.addClass("Carousel"),this.Element.children().addClass("Seat "+this.Options.Direction),this.Seats=this.Element.children(".Seat"),this.Seats.first().addClass("Active")}function r(t,e){if(!t)throw new Error("The next seat is required.");if(!e)throw new Error("The active seat is required.");if("string"!=typeof t){if("number"==typeof t)return this.Direction=t>e.index()?"Right":"Left",t;throw new Error("Invalid argument for nextSeat: "+t+".")}switch(t.toLowerCase()){case"+1":case"next":return"Right"===this.Options.Direction?e.index()+1:e.index()-1;case"-1":case"back":case"prev":case"previous":return"Right"===this.Options.Direction?e.index()-1:e.index()+1;case"right":return this.Direction="Right",e.index()+1;case"left":return this.Direction="Left",e.index()-1;default:throw new Error("Invalid argument for nextSeat: "+t+".")}}function l(t){"right"===t.data.nextSeat.toLowerCase()?this.rotate("Right"):"left"===t.data.nextSeat.toLowerCase()&&this.rotate("Left")}function d(t,e,a){"Right"===this.Direction?e.css("visibility","hidden").removeClass("Left").addClass("Right"):e.css("visibility","hidden").removeClass("Right").addClass("Left");var n=this;setTimeout(function(){h.call(n,t,e,a)},1e3*parseFloat(e.css("transition-duration")))}function h(e,a,i){"Right"===this.Direction?(e.addClass("Left").removeClass("Right Active"),a.css("visibility","").addClass("Active")):(e.addClass("Right").removeClass("Left Active"),a.css("visibility","").addClass("Active"));var s=this;if(this.Options.ShowIndicators){var o=s.Element.find("ol > li"),r=s.Element.find("li.Active"),l=t(o[a.index()]);r.removeClass("Active"),l.addClass("Active")}this.IsSliding=!1,this.resumeRotation(),i!==n&&i()}function c(){this.Options.PauseOnHover&&this.Element.on("mouseenter.widgets.carousel",t.proxy(this.pauseRotation,this)).on("mouseleave.widgets.carousel",t.proxy(this.resumeRotation,this))}function p(t,e){if("Right"===this.Direction){if(0===t.index())switch(e){case"-1":case"back":case"prev":case"previous":case"left":return!0}else if(t.index()===this.Seats.length-1)switch(e){case"+1":case"next":case"right":return!0}}else if(0===t.index())switch(e){case"+1":case"next":case"right":return!0}else if(t.index()===this.Seats.length-1)switch(e){case"-1":case"back":case"prev":case"previous":case"left":return!0}return!1}var u={Direction:"Right",Interval:5e3,PauseOnHover:!0,ShowIndicators:!0,ShowNextPrevious:!1,Wrap:!0},f=function(e,n){if(this.Element=e,this.Options=t.extend({},u,n),this.Direction=this.Options.Direction,this.Timer=null,this.IsSliding=!1,this.Seats=null,!e.attr("id")||e.attr("id").length<1)throw new Error("Carousels require the ID attribute.");o.call(this);var r=this;t(a).ready(function(){r.Element.css("height",r.Seats.first().height()+"px"),r.Element.css("width",r.Seats.first().width()+"px")}),this.Options.ShowIndicators&&i.call(this),this.Options.ShowNextPrevious&&s.call(this),this.Options.Interval&&this.Options.Interval>0&&this.resumeRotation(),c.call(this)};f.prototype={destroy:function(){e.clearInterval(this.Timer),this.Timer=null,this.Element.children("ol").remove(),this.Element.children("a").remove(),this.Element.removeData("Carousel").css("height","auto").css("width","auto").removeClass("Carousel").off(".widgets.carousel"),this.Element.children().removeClass("Seat").removeClass("Left").removeClass("Right").removeClass("Active")},getSeatIndex:function(t){return this.Seats.index(t||this.Element.find(".Seat.Active"))},pauseRotation:function(){this.Timer&&(e.clearInterval(this.Timer),this.Timer=null)},resumeRotation:function(){if(this.Options.Interval&&!(this.Options.Interval<1)){this.Timer&&this.pauseRotation();var t=this;this.Timer=setInterval(function(){t.Direction=t.Options.Direction,t.rotate(t.Direction)},this.Options.Interval)}},rotate:function(e,a){var n=this.Element.find(".Seat.Active");if(!this.Options.Wrap&&p.call(this,n,e))return void(a&&a());this.pauseRotation();var i,s=r.call(this,e,n);i=t(0>s?this.Seats[s%this.Seats.length+this.Seats.length]:this.Seats[s%this.Seats.length]),this.IsSliding=!0,d.call(this,n,i,a)}},t.fn.Carousel=function(e){var a=arguments;if(e===n||"object"==typeof e)return this.each(function(){t.data(this,"Carousel")===n&&t.data(this,"Carousel",new f(t(this),e))});if("string"==typeof e){var i;return this.each(function(){var n=t.data(this,"Carousel");n instanceof f&&"function"==typeof n[e]&&(i=n[e].apply(n,Array.prototype.slice.call(a,1)))}),i!==n?i:this}}}(jQuery,window,document),function(t,e,a,n){"use strict";function i(t){"blur"===t.type?this.Element.removeClass("Counting"):"focus"===t.type&&this.Element.addClass("Counting")}function s(){var t=this.Input.val().length,e=parseInt(this.Input.prop("maxlength"))||0;if(this.Element.text("Characters Remaining: "+(e-t)),parseInt(e)>0){var a=t/e*100;50>a?this.Element.css("color",this.Options.Color):75>a?this.Element.css("color",this.Options.Warning):this.Element.css("color",this.Options.Danger)}}function o(){this.Input.on("blur.widgets.counter focus.widgets.counter",t.proxy(i,this)).on("keyup.widgets.counter paste.widgets.counter",t.proxy(s,this))}var r={Color:"#7AC143",Danger:"#EF3E42",Warning:"#A89E34"},l=function(e,a){if(this.Element=e,this.Options=t.extend({},r,a),!e.prop("for")||""===e.prop("for"))throw new Error("The for attribute is required.");if(e.addClass("Counter"),this.Input=t("#"+e.prop("for")),!this.Input.length)throw new Error("The target element for character counting wasn't found.");e.parent().css("overflow-x","hidden"),s.call(this),o.call(this)};l.prototype={destroy:function(){this.Element.parent().css("overflow-x",""),this.Element.removeData("Character Counter").removeClass("Counter"),this.Input.off(".widgets.counter")}},t.fn.CharacterCounter=function(e){var a=arguments;if(e===n||"object"==typeof e)return this.each(function(){t.data(this,"Character Counter")===n&&t.data(this,"Character Counter",new l(t(this),e))});if("string"==typeof e){var i;return this.each(function(){var n=t.data(this,"Character Counter");n instanceof l&&"function"==typeof n[e]&&(i=n[e].apply(n,Array.prototype.slice.call(a,1)))}),i!==n?i:this}},t(a).ready(function(){return t("[data-counter]").each(function(){var e=t(this),a=e.data("options");"string"==typeof a&&(a=JSON.parse(a.replace(/'/g,'"'))),e.CharacterCounter(a)})})}(jQuery,window,document),function(t,e,a,n){"use strict";function i(e){e&&3===e.which||(t("DropDown-Backdrop").remove(),t("[data-dropdown]").removeClass("Active"),t("[data-role='DropDown']").hide().each(function(){t(this).data("DropDown Activator")&&t(this).data("DropDown Activator").removeClass("Active")}))}function s(e){if(/(38|40|27)/.test(e.keyCode)){e.preventDefault(),e.stopPropagation();var a;if(a=t(this).data("DropDown"===t(this).attr("role")?"DropDown Activator":"DropDown"),!a.Element.is(":disabled")){var n=a.Menu.is(":visible");if(!n||n&&27==e.keyCode)return 27==e.which&&a.Menu.focus(),a.Element.trigger("click.widgets.dropdown");var i=a.Menu.find("li:not(.Divider):visible a");if(i.length){var s=i.index(i.filter(":focus"));38==e.keyCode&&s>0?s--:40==e.keyCode&&s<i.length-1?s++:~s||(s=0),i[s].focus()}}}}function o(e){var n=t(this).data("DropDown");if(n.Element.is(":disabled"))return!1;var s=n.Menu.is(":visible");if(i(),!s){if("ontouchstart"in a.documentElement&&!n.Element.parent().closest("nav").length&&t('<div class="DropDown-Backdrop"/>').insertAfter(n.Element).on("click.widgets.dropdown",i),n.Menu.show(),n.Element.addClass("Active"),e.isDefaultPrevented())return!1;n.Element.focus()}return!1}function r(){this.Element.on("click.widgets.dropdown",o).on("keydown.widgets.dropdown",s);var e=t._data(a,"events");if(e&&e.keydown)for(var n=0;n<e.keydown.length;n++)if("widgets.dropdown"===e.keydown[n].namespace)return;t(a).on("click.widgets.dropdown",i).on("click.widgets.dropdown","[data-dropdown]",o).on("keydown.widgets.dropdown","[data-dropdown], [role='DropDown']",s)}var l=function(e,a){if(this.Element=e,this.Menu=t(a?a.Menu:e.data("dropdown")),"button"===this.Element.prop("tagName").toLowerCase()&&this.Element.addClass("DropDown"),!this.Menu.length)throw new Error("The dropdown target could not be found.");this.Menu.addClass("DropDown").attr("data-role","DropDown"),this.Element.data("dropdown")||this.Menu.data("DropDown Activator",this.Element),r.call(this)};l.prototype={destroy:function(){this.Menu.removeClass("DropDown").removeData("DropDown Activator").hide(),this.Element.removeClass("Active").removeAttr("data-dropdown").removeData("dropdown").removeData("DropDown").off(".widgets.dropdown").trigger("blur"),t(a).off(".widgets.dropdown")}},t.fn.DropDown=function(e){var a=arguments;if(e===n||"object"==typeof e)return this.each(function(){t.data(this,"DropDown")===n&&t.data(this,"DropDown",new l(t(this),e))});if("string"==typeof e){var i;return this.each(function(){var n=t.data(this,"DropDown");n instanceof l&&"function"==typeof n[e]&&(i=n[e].apply(n,Array.prototype.slice.call(a,1)))}),i!==n?i:this}},t(a).ready(function(){t("[data-dropdown]").each(function(){var e=t(this),a=e.data("options");"string"==typeof a&&(a=JSON.parse(a.replace(/'/g,'"'))),e.DropDown(a)})})}(jQuery,window,document),function(t,e,a,n){"use strict";function i(e,a){if(a){this.ActiveTarget=t.grep(this.Targets,function(e){return e.Heading.attr("id")==t(a.target).attr("href").substr(1)})[0],a.preventDefault();var n=o.call(this,this.ActiveTarget.Heading);t.isWindow(this.Scroller[0])?this.Scroller[0].scrollTo(0,n-this.Options.Offset):this.Scroller.animate({scrollTop:n-this.Options.Offset})}else e&&(this.ActiveTarget=e);this.Element.find("li.Active").removeClass("Active"),this.Element.find("[href='#"+this.ActiveTarget.Heading.attr("id")+"']").parents("li").addClass("Active")}function s(){var e=d.call(this);if(l.call(this,e)){this.ScrollHeight=r.call(this),this.Element.empty();var a,n=this.Element,i=parseInt(e[0].Heading.prop("tagName").substr(e[0].Heading.prop("tagName").length-1));e.forEach(function(e){var s=e.Heading.prop("tagName"),o=parseInt(s.substr(s.length-1));if(o>i){var r=t('<ul class="Unstyled" />');a.append(r),n.append(a),n=r,i++}for(;i>o;)n=t(n.parents("ul")[0]),i--;var l=t("<a />").text(e.Heading.text()).attr("href","#"+e.Heading.attr("id"));a=t("<li/>").append(l),n.append(a)}),this.Targets=e}}function o(e){var a=0,n="offset";return t.isWindow(this.Scroller[0])||(n="position",a=this.Scroller.scrollTop()),e[n]().top+a}function r(){return this.Scroller[0].scrollHeight||Math.max(t("body")[0].scrollHeight,a.documentElement.scrollHeight)}function l(t){if(!this.Targets||0===this.Targets.length)return!0;var e=this,a=t.filter(function(t,a){return t.Offset!==e.Targets[a].Offset?!0:t.Heading[0]!==e.Targets[a].Heading[0]?!0:!1});return a.length>0}function d(){for(var e=[],a=1;7>a;a++)e=e.concat(this.Options.Target.find("h"+a+"[id]").toArray());var n=this;return e=e.map(function(e,a){var i=t(e),s=o.call(n,i);return{Heading:i,Offset:s}}).sort(function(t,e){return t.Offset-e.Offset})}function h(){var t,e=this.Scroller.scrollTop()+this.Options.Offset,a=r.call(this),n=this.Options.Offset+a-this.Scroller.height();if(this.ScrollHeight!=a&&s.call(this),e>=n)return t=this.Targets[this.Targets.length-1],this.ActiveTarget!=t&&i.call(this,t);if(this.ActiveTarget&&e<=this.Targets[0].Offset)return t=this.Targets[0],this.ActiveTarget!=t&&i.call(this,t);for(var o=this.Targets.length;o--;)if(e>=this.Targets[o].Offset&&(!this.Targets[o+1]||e<=this.Targets[o+1].Offset)){i.call(this,this.Targets[o]);break}}function c(){this.Scroller.on("scroll.widgets.index",t.proxy(h,this)),this.Element.on("click.widgets.index","a",t.proxy(i,this,null))}var p={Offset:0,Target:null},u=function(a,n){this.Element=a,this.Options=t.extend({},p,n),this.Options.Target||(this.Options.Target=t("body")),this.Scroller=t(this.Options.Target.is("body")?e:a),this.Targets=[],this.ActiveTarget=null,this.ScrollHeight=0,this.Element.addClass("Index"),c.call(this),h.call(this)};u.prototype={destroy:function(){this.Element.removeClass("Index").removeData("Index").empty().off(".widgets.index"),this.Scroller.off(".widgets.index")}},t.fn.Index=function(e){var a=arguments;if(e===n||"object"==typeof e)return this.each(function(){t.data(this,"Index")===n&&t.data(this,"Index",new u(t(this),e))});if("string"==typeof e){var i;return this.each(function(){var n=t.data(this,"Index");n instanceof u&&"function"==typeof n[e]&&(i=n[e].apply(n,Array.prototype.slice.call(a,1)))}),i!==n?i:this}}}(jQuery,window,document),function(t,e,a,n){"use strict";function i(){this.BottomSpacer=t("<div />").addClass("Bottom-Spacer"),this.TopSpacer=t("<div />").addClass("Top-Spacer"),this.Container.prepend(this.TopSpacer).append(this.BottomSpacer)}function s(){if(this.Options.ChildHeight)return this.Options.ChildHeight;var t;return this.Element.find("tbody").length?(this.Element.find("tbody").append('<tr style="visibility: hidden"><td>You\'re not supposed to see this :p</td></tr>'),t=this.Element.find("tbody > tr:last").outerHeight(),this.Element.find("tbody > tr:last").remove()):("OL"==this.Element.prop("tagName")||"UL"==this.Element.prop("tagName"))&&(this.Element.append('<li style="visibility: hidden">You\'re not supposed to see this :p</li>'),t=this.Element.children(":last").outerHeight(),this.Element.children(":last").remove()),t}function o(){var t=this.Options.PageSize*this.ItemHeight,e=this.Rows/this.Options.PageSize,a=(t-this.Viewport.height())*this.Options.Threshold;this.TopSpacer.height(t*Math.max(this.PageIndex-1,0)),this.BottomSpacer.height(t*Math.max(e-1-(this.PageIndex+1),0)),this.Thresholds=this.PageIndex>=e-1?{Down:parseInt(this.PageIndex*t+a),Up:parseInt((this.PageIndex-1)*t-a)}:{Down:parseInt((this.PageIndex+1)*t+a),Up:parseInt(this.PageIndex*t-a)}}function r(t){this.Viewport.off("scroll.widgets.infinite-scroll");var a=this.Options.PageSize*this.ItemHeight,n=this.Viewport[0]===e?this.Container.offset().top:0;if(this.PageIndex=parseInt((this.Viewport.scrollTop()-this.HeaderHeight-n)/a),this.Viewport.scrollTop()>=this.Thresholds.Down){this.Direction="Down";var i=this.Rows/this.Options.PageSize;this.PageIndex!==i-1||this.NoMoreData||this.Options.DataCallback(this.PageIndex+1,this.Options.PageSize),l.call(this)}else this.Viewport.scrollTop()<=this.Thresholds.Up&&(this.Direction="Up",l.call(this));this.PreviousDirection=this.Direction;var s=this;this.Viewport.on("scroll.widgets.infinite-scroll",function(t){r.call(s,t)})}function l(){var t=JSON.parse(sessionStorage.getItem(h+a.location));if(t){var e=t.Instances[this.Index];if(e&&e.Data.length){this.Rows=e.Data.length;var n=this.Rows/this.Options.PageSize,i=Math.max(this.PageIndex-1,0)*this.Options.PageSize,s=Math.max(this.PageIndex+1,n)*this.Options.PageSize;this.Options.PagingCallback(e.Data.slice(i,s))}o.call(this)}}function d(){this.Element.wrap('<div class="Infinite-Scroll" />'),this.Container=this.Element.parent(),this.ItemHeight=this.ItemHeight||s.call(this),i.call(this),this.Viewport=this.Options.UseWindow?t(e):this.Container,this.Index=t("div.Infinite-Scroll").index(this.Container)}var h="Infinite Scroll: ",c={ChildHeight:0,DataCallback:null,PageSize:25,PagingCallback:null,Threshold:.67,UseWindow:!0},p=function(e,a){if(this.Direction="Down",this.Element=e,this.HeaderHeight=e.outerHeight(),this.ItemHeight=null,this.NoMoreData=!1,this.Options=t.extend({},c,a),this.PageIndex=0,this.PreviousDirection="Down",this.Rows=0,!this.Options.DataCallback||"function"!=typeof this.Options.DataCallback)throw new Error("No data callback function specified or the data callback isn't a function.");if(!this.Options.PagingCallback||"function"!=typeof this.Options.PagingCallback)throw new Error("No paging callback function specified or the paging callback isn't a function.");d.call(this),l.call(this),this.Thresholds||o.call(this);var n=this;this.Viewport.on("scroll.widgets.infinite-scroll",function(t){r.call(n,t)})};p.prototype={cacheData:function(t){if(t&&t.length){var e=JSON.parse(sessionStorage.getItem(h+a.location))||{Instances:[]},n=e.Instances[this.Index];n||(n={Data:[]},e.Instances[this.Index]=n),n.Data.indexOf(t)>-1?this.NoMoreData=!0:(n.Data=n.Data.concat(t),sessionStorage.setItem(h+a.location,JSON.stringify(e))),this.Rows=n.Data.length}else this.NoMoreData=!0},destroy:function(){this.BottomSpacer.remove(),this.TopSpacer.remove(),this.Viewport.off(".widgets.infinite-scroll"),this.Element.unwrap(this.Container)}},t.fn.InfiniteScroll=function(e){var a=arguments;if(e===n||"object"==typeof e)return this.each(function(){t.data(this,"Infinite Scroll")===n&&t.data(this,"Infinite Scroll",new p(t(this),e))});if("string"==typeof e){var i;return this.each(function(){var n=t.data(this,"Infinite Scroll");n instanceof p&&"function"==typeof n[e]&&(i=n[e].apply(n,Array.prototype.slice.call(a,1)))}),i!==n?i:this}}}(jQuery,window,document),function($,window,document,undefined){"use strict";var Modal={Backdrop:null,Dialog:null,buildBackdrop:function(){Modal.Backdrop||(Modal.Backdrop=$('<div id="divBackdrop" />'),$("body").append(Modal.Backdrop))},buildDialog:function(){if(!Modal.Dialog){Modal.Dialog=$("<dialog />").attr("id","dlgModal").attr("open","").attr("role","dialog").attr("aria-hidden","true");var t=$("<button />").attr("type","button").text("Ã—").click($.Modal.hideDialog),e=$("<header />").append(t).append("<span />");Modal.Dialog.append(e).append("<section />"),$("body").append(Modal.Dialog)}}};$.fn.Modal=function(){return this},$.Modal={hideDialog:function(){$("body").off("click.widgets.modal"),Modal.Dialog.removeClass("Visible"),Modal.Dialog.children("section").empty(),window.setTimeout(function(){Modal.Dialog.removeClass()},1e3*parseFloat(Modal.Dialog.css("transition-duration")))},prompt:function(t,e,a){var n=$("<div />"),i=$("<p />").addClass("Text-Center").text(e),s=$("<div />").addClass("Text-Right");n.append(i).append(s);for(var o=0;o<a.length;o++){if(!a[o].Text||a[o].Text.trim().length<1)throw new Error("There is no text for modal button #"+o+".");var r=$("<button />").attr("type","button").text(a[o].Text);a[o].CssClasses&&r.addClass(a[o].CssClasses),a[o].Callback?$("body").on("click.widgets.modal","#dlgModal > section button:eq("+o+")",a[o].Callback):$("body").on("click.widgets.modal","#dlgModal > section button:eq("+o+")",this.hideDialog),s.append(r)}this.showDialog(n,t)},promptToDelete:function(t,e){"function"==typeof t&&(e=t,t=null),this.prompt("Confirm Removal",t||"Are you sure you want to delete this?",[{Callback:e,CssClasses:"Suggested",Text:"Delete"},{Text:"Cancel"}])},promptToSave:function(t,e,a,n){"function"==typeof t&&(n=a,a=e,e=t,t=null),this.prompt("Unsaved Changes",t||"There are unsaved changes. What would you like to do?",[{Callback:e,CssClasses:"Suggested",Text:"Save and Continue"},{Callback:a,Text:"Continue Without Saving"},{Callback:n,Text:"Cancel"}])},showDialog:function(element,title,options,callback){if(!element)throw new Error("The content element is required.");if(!title||"string"!=typeof title)throw new Error("Modal dialog title is required.");"string"==typeof element&&(element=$(element)),"function"==typeof options&&(callback=options,options=null),options=$.extend({CloseButton:!0,Effect:"Slide From Top"},options),Modal.buildDialog(),Modal.buildBackdrop(),Modal.Dialog.addClass(options.Effect.replace(/ /g,"")),Modal.Dialog.find("header > span").text(title),Modal.Dialog.children("section").append(element.html()),Modal.Dialog.find("header > button").css("display",options.CloseButton?"inline-block":"none"),window.setTimeout(function(){Modal.Dialog.addClass("Visible"),callback&&("string"==typeof callback?eval(callback+"()"):callback())},325)}}}(jQuery,window,document),$(document).on("click.widgets.modal","[data-modal]",function(){var t=$(this),e=t.data("options");"string"==typeof e&&(e=JSON.parse(e.replace(/'/g,'"'))),$.Modal.showDialog(t.data("modal"),t.data("title"),e,t.data("callback"))}),function(t){function e(t){return l.filter(":visible").after(o.Element),o.Element.trigger("dragend.widgets.movable"),t.stopPropagation(),!1}function a(e){if(e.data.Handle&&!d)return!1;d=!1;var a=t(e.target).addClass("Movable-Dragging").attr("aria-grabbed","true"),n=e.originalEvent.dataTransfer;n.effectAllowed="move",n.setData("text","");var i=e.data.DragImage||e.target,s=e.data.CursorAt[0]||0,l=e.data.CursorAt[1]||0;n.setDragImage(i,s,l),r=a.outerHeight(),o={Element:a,OldParent:a.parent(),StartIndex:a.index()}}function n(t){!t.data.Items.is(o.Element)&&t.data.ConnectWith.indexOf(o.Element.parent()[0])<0||t.preventDefault()}function i(e){if(o){o.Element.removeClass("Movable-Dragging").attr("aria-grabbed","false").show(),l.detach();var a=t(e.target);o.EndIndex=a.index(),o.NewParent=a.parent(),e.data.Change&&(o.StartIndex!==o.EndIndex||o.NewParent.get(0)!==o.OldParent.get(0))&&e.data.Change(o),o=null}}function s(e){if(e.data.Items.is(o.Element)||!(e.data.ConnectWith.indexOf(o.Element.parent()[0])<0)){e.preventDefault(),e.originalEvent.dataTransfer.dropEffect="move";var a=t(e.target);if(e.data.Items.is(a)){var n=a.outerHeight();if(n>r){var i=n-r,s=a.offset().top;if(e.data.Placeholder.index()<a.index()&&e.originalEvent.pageY<s+i)return!1;if(e.data.Placeholder.index()>a.index()&&e.originalEvent.pageY>s+n-i)return!1}o.Element.hide(),a[e.data.Placeholder.index()<a.index()?"after":"before"](e.data.Placeholder),l.not(e.data.Placeholder).detach()}else l.is(a)||a.children(e.data.Items).length||l.detach();return!1}}var o=null,r=0,l=t(),d=!1,h=function(e,a){this.Element=e,this.Options=a,this.Items=this.Element.children(this.Options.Items),this.Placeholder=t(/^UL|OL$/i.test(this.Element.prop("tagName").toUpperCase())?'<li class="Movable-Placeholder" />':'<div class="Movable-Placeholder" />'),this.Options.Placeholder&&this.Placeholder.addClass(this.Options.Placeholder),l=l.add(this.Placeholder),this.Items.attr("role","option").attr("aria-grabbed",!1).attr("draggable","true"),this.wireEvents()};h.prototype={toggleHandle:function(t){d="mousedown"===t.type?!0:!1},wireEvents:function(){this.Options.Handle&&this.Items.find(this.Options.Handle).on("mousedown.widgets.movable",t.proxy(this.toggleHandle,this)).on("mouseup.widgets.movable",t.proxy(this.toggleHandle,this)),this.Items.on("dragstart.widgets.movable",this.Options,a).on("dragend.widgets.movable",this.Options,i).end().add([this,this.Placeholder]).on("dragenter.widgets.movable",{ConnectWith:t.makeArray(t(this.Options.ConnectWith)),Items:this.Items,Placeholder:this.Placeholder},s).on("dragover.widgets.movable",{ConnectWith:t.makeArray(t(this.Options.ConnectWith)),Items:this.Items},n).on("drop.widgets.movable",e)}},t.fn.Movable=function(e){var a=t.extend({Change:null,ConnectWith:null,CursorAt:null,DragImage:null,Handle:null,Items:"*",Placeholder:null},e);return this.each(function(){new h(t(this),a)})}}(jQuery),function(t,e,a,n){"use strict";function i(){var e=t("<div />").addClass("Meter").append("<span />");this.Strength=t("<div />").addClass("Strength").append(t("<small><strong>Strength:</strong> <span>Weak</span></small>")).append(e),this.Element.parent().append(this.Strength)}function s(){var t=this.Options.Confirmation.Element;this.Element.val().length+t.val().length===0?t.next().fadeOut():this.Options.Confirmation.ValidCallback&&this.Element.val()===t.val()?this.Options.Confirmation.ValidCallback():this.Options.Confirmation.InvalidCallback&&this.Options.Confirmation.InvalidCallback()}function o(){this.Strength.removeClass("Strong Moderate Fair Weak");var t="Weak";this.Options.StrongPattern.test(this.Element.val())?t="Strong":this.Options.GoodPattern.test(this.Element.val())?t="Moderate":this.Options.FairPattern.test(this.Element.val())&&(t="Fair"),this.Strength.find("small span").text(t),this.Strength.addClass(t),this.Strength.is(":visible")||this.Strength.fadeIn()}function r(){var e=this;this.Element.on("keyup.widgets.passwordstrength",t.proxy(o,this)).on("blur.widgets.passwordstrength",function(){e.Strength.fadeOut()}),this.Options.Confirmation.Element&&(this.Options.Confirmation.Element.on("keyup.widgets.passwordstrength",t.proxy(s,this)),this.Element.on("keyup.widgets.passwordstrength",t.proxy(s,this)))}var l={Confirmation:{Element:null,InvalidCallback:null,ValidCallback:null},FairPattern:/^(?=.*[A-Za-z]+)(?=.*[0-9]+).{6,}$/,GoodPattern:/^(?=.*[A-Z]+)(?=.*[a-z]+)(?=.*[0-9]+).{8,}$/,StrongPattern:/^(?=.*[A-Z]+)(?=.*[a-z]+)(?=.*[0-9]+)(?=.*[^A-Za-z0-9 ]+).{8,}$/
},d=function(e,a){this.Element=e,this.Options=t.extend({},l,a),this.Strength=null,e.wrap('<div class="PasswordStrength" />'),i.call(this),this.Options.Confirmation.Element&&("string"==typeof this.Options.Confirmation.Element&&(this.Options.Confirmation.Element=t(this.Options.Confirmation.Element)),this.Options.Confirmation.Element.wrap('<div class="PasswordStrength" />')),r.call(this)};d.prototype={destroy:function(){this.Strength.remove(),this.Element.removeData("Password Strength").unwrap().off(".widgets.passwordstrength"),this.Options.Confirmation&&this.Options.Confirmation.Element&&this.Options.Confirmation.Element.unwrap().off(".widgets.passwordstrength")}},t.fn.PasswordStrength=function(e){var a=arguments;if(e===n||"object"==typeof e)return this.each(function(){t.data(this,"Password Strength")===n&&t.data(this,"Password Strength",new d(t(this),e))});if("string"==typeof e){var i;return this.each(function(){var n=t.data(this,"Password Strength");n instanceof d&&"function"==typeof n[e]&&(i=n[e].apply(n,Array.prototype.slice.call(a,1)))}),i!==n?i:this}}}(jQuery,window,document),function(t,e,a,n){"use strict";var i={MaxMessages:0},s={Element:null,Options:null,MessageCount:0,Visible:0,_create:function(e,a){e.addClass("Toasty"),this.Element=e,this.Options=t.extend({},i,a)},addDismissButton:function(e,a){var n=t("<button />").attr("type","button").append('<i class="fa fa-times" />').on("click.widgets.toasty",function(){e.addClass("Acknowledged")});e.append(n)},addImage:function(e,a){var n=t("<img />").attr("src",a);e.append(n)},styleAlert:function(t,e){t.addClass(e.CssClass?e.CssClass:e.Type)}};t.fn.Toasty=function(t){return s._create(this,t),this},t.Toasty={add:function(a){if(!a)throw new Error("No message parameters supplied.");if("string"==typeof a)a={Text:a};else if(a.Type&&a.CssClass)throw new Error("You can only supply the Type parameter or CssClass parameter, not both.");var n=s.MessageCount,i=t("<div />").attr("id","Toasty-"+n).one("transitionend webkitTransitionEnd",function(){a.Sticky||i.addClass("Fade"),i.one("transitionend webkitTransitionEnd",function(){t.Toasty.remove(n)})});return s.MessageCount++,s.styleAlert(i,a),a.Dismissable&&s.addDismissButton(i,n),a.Title&&i.append("<large>"+a.Title+"</large>"),a.ImageUrl&&s.addImage(i,a.ImageUrl),i.append(t("<span>"+a.Text+"</span>")),a.MaxMessages>0&&s.Visible>=a.MaxMessages?void 0:(s.Visible++,s.Element.append(i),e.setTimeout(function(){i.addClass("Toast")},500),n)},remove:function(e){t("#Toasty-"+e).remove(),s.Visible--},removeAll:function(){s.Element.children().css("opacity",0).on("transitionend",function(){t(this).remove(),s.Visible=0})}}}(jQuery,window,document),function(){"use strict";function t(t,e,a){var n=$("<input />").attr("type","date").attr("id","dteStart"),i=$("<span>and</span>").addClass("Hidden"),s=$("<input />").attr("type","date").attr("id","dteEnd").addClass("Hidden");a.length&&(n.val(a[0].Operand),2===a.length&&(i.removeClass("Hidden"),s.val(a[1].Operand).removeClass("Hidden"))),t.append(n).append(i).append(s)}function e(t,e){var a=this,n=$("<span />").text(": ").addClass("Operator"),i=$("<span />").text("All").addClass("Operand"),s=$("<button />").attr("type","button").addClass("Filter").data("Column",e).text(e.Header).append(n).append(i).on("click.widgets.adaptable",function(t){u.call(a,t,e)});t.append(s)}function a(t){var a=this,n=0,i=$('<ol class="More-Filters" />'),s=[],r=this.Instance.Element.data("Layout"),l=Lazy(r.Columns);r.Query.Filters&&Lazy(r.Query.Filters).each(function(i,o){if(""!==i.Column){s.indexOf(i.Column)<0&&s.push(i.Column);var r=l.findWhere({Name:i.Column}),d=t.find("button.Filter").filter(function(t,e){return e=$(e),e.data("Column")===r}).first();d.length||(e.call(a,t,r),d=t.children("button.Filter:last")),c(d,i,r),n=3}}),l.where({IsFilterable:!0}).each(function(r,l){3>n?(e.call(a,t,r),n++):s.indexOf(r.Name)<0&&o.call(a,i,r,t)}),t.append(i)}function n(t,e){var a=this,n=$("<button />").attr("type","submit").addClass("Suggested").text("Update"),i=$("<button />").attr("type","button").addClass("Risky").text("Clear").on("click.widgets.adaptable",function(t){a.removeFilter(e.Name,!0),a.Instance.toggleMenu(t)}),s=$("<button />").attr("type","button").text("Close").on("click.widgets.adaptable",$.proxy(this.Instance.toggleMenu,this.Instance)),o=$("<div />").append(n).append(i).append(s);t.append(o).on("submit.widgets.adaptable",$.proxy(h,this,e))}function i(t,e){var a=JSON.parse(localStorage.getItem(this.Instance.STORAGE_PREFIX+document.location)),n=(a.Instances[$("div.AdapTable").index(this.Instance.Container)],this.Instance.Element.data("Data").FilterValues[e.Name]),i=Lazy(this.Instance.Element.data("Layout").Query.Filters).findWhere({Column:e.Name}),s=$("<ul />"),o=this;Lazy(n).each(function(t,a){var n=$("<input />").attr("type","checkbox").prop("checked",i&&i.Operand.indexOf(t)>-1).on("change.widgets.adaptable",$.proxy(g,o,e)),r=$("<label />").append(n).append(t),l=$("<li />").append(r);s.append(l)}),t.append(s)}function s(t){var e=$("<button />").attr("type","button").addClass("More").text("More").on("click.widgets.adaptable",$.proxy(m,this));t.append(e)}function o(t,e,a){var n=$("<input />").attr("type","checkbox").data("Column",e).on("change.widgets.adaptable",$.proxy(f,this,a)),i=$("<label />").append(n).append(e.Header),s=$("<li />").append(i);t.append(s)}function r(t,e,a){var n=$("<input />").attr("type","Numeric"===e?"number":"text").attr("id","txtStart"),i=$("<span>and</span>").addClass("Hidden"),s=$("<input />").attr("type","Numeric"===e?"number":"text").attr("id","txtEnd").addClass("Hidden");a.length&&(n.val(a[0].Operand),2===a.length&&(i.removeClass("Hidden"),s.val(a[1].Operand).removeClass("Hidden"))),t.append(n).append(i).append(s)}function l(t){if(this.Instance.Options.CanSearch){var e=$("<input />").attr("type","search").attr("placeholder","Contains text").on("keypress.widgets.adaptable",$.proxy(p,this)),a=Lazy(this.Instance.Element.data("Layout").Query.Filters).findWhere({Column:""});a&&e.attr("value",a.Operand);var n=$("<button />").attr("type","button").addClass("Search").append('<i class="fa fa-search"></i>').on("click.widgets.adaptable",$.proxy(p,this));t.append(e).append(n)}}function d(t,e,a){var n=$("<select />"),i={"Is greater than":">","Is greater than or equal to":">=","Is less than":"<","Is less than or equal to":"<=",Is:"=","Is not":"!="};"Text"!==e&&(i["Is between"]="BETWEEN"),Lazy(i).each(function(t,e){var a=$("<option />").text(e).val(t);n.append(a)}),2===a.length?n.children("option[value='BETWEEN']").attr("selected",!0):a.length&&n.children("option[value='"+a[0].Operator+"']").attr("selected",!0),n.on("change.widgets.adaptable",function(t){var e=$(t.target);"BETWEEN"===e.val()?e.parent().children("span, input:last-of-type").removeClass("Hidden"):e.parent().children("span, input:last-of-type").addClass("Hidden")}),t.append(n)}function h(t,e){e.preventDefault();var a=$(e.target),n=a.children("select").val();"BETWEEN"!==n?this.addFilter(t.Name,n,a.children("input:first").val(),!0):(this.addFilter(t.Name,">=",a.children("input:first").val(),!1),this.addFilter(t.Name,"<=",a.children("input:last").val(),!0)),this.Instance.toggleMenu(e)}function c(t,e,a){var n=t.children("span.Operator"),i=t.children("span.Operand");if(n.text("<="===e.Operator&&" >= "===n.text()?" between ":"IN"===e.Operator?" is ":"NOT IN"===e.Operator?" is not ":" "+e.Operator+" "),"Date"===a.DataType){var s=e.Operand.split("-"),o=new Date(parseInt(s[0]),parseInt(s[1])-1,parseInt(s[2])),r=o.getMonth()+1+"/"+o.getDate()+"/"+o.getFullYear();if(" between "!==n.text())i.text(r);else{{t.children("span").text().split(" ")}i.text(i.text()+" and "+r)}}else i.text("Numeric"===a.DataType?e.Operand:e.Operand.length>20?e.Operand.substr(0,20)+"...":e.Operand)}function p(t){if("keypress"!==t.type||13===t.keyCode){var e=$(t.target).parents("div.Filters").children("input[type='search']");e.val().trim().length<1?this.removeFilter("",!0):this.addFilter("","LIKE",e.val(),!0)}}function u(e,a){"BUTTON"!==e.target.tagName.toUpperCase()&&(e.target=e.target.parentElement);var s=$(e.target),o=(s.parents("div.Filters"),$('<form action="#" />')),l=(this.Instance.Element.data("Layout"),Lazy(this.Instance.Element.data("Layout").Query.Filters).where({Column:a.Name}).toArray());switch(a.DataType){case"Numeric":case"Text":d(o,a.DataType,l),r(o,a.DataType,l),n.call(this,o,a);break;case"Lookup":i.call(this,o,a);break;case"Date":d(o,a.DataType,l),t(o,a,l),n.call(this,o,a);break;default:throw new Error("Unsupported data type for column: "+a.Name+".")}this.Instance.toggleMenu(e,o)}function f(t,a){var n=$(a.target);"INPUT"!==n.prop("tagName").toUpperCase()&&(n=n.children().first());var i=n.parents("li").index(),s=t.children("div");t.children("ol.More-Filters").children("li:nth-child("+(i+1)+")").find("input").prop("checked",n.prop("checked")),n.is(":checked")?e.call(this,s,n.data("Column")):s.children("button").filter(function(t,e){return $(e).data("Column")===n.data("Column")}).remove()}function g(t,e){var a=$(e.target).parents("form").find("input:checked");if(a.length){var n=[];a.parent().each(function(t,e){n.push($(e).text().trim())}),this.addFilter.call(this,t.Name,"IN",n.join(),!1)}else this.removeFilter(t.Name,!1);this.Instance.getData()}function m(t){this.Instance.toggleMenu(t,$(t.target).parent().children("ol.More-Filters"))}if(!window.AdapTable)throw new Error("AdapTable core hasn't loaded.");AdapTable.Filtering=function(t){this.Instance=t,this.Instance.Element.on("repaint.widgets.adaptable columns-moved.widgets.adaptable",$.proxy(this.reflectFilters,this))},AdapTable.Filtering.prototype={addFilter:function(t,e,a,n){if("LIKE"!==e.toUpperCase()&&(!t||t.trim().length<1))throw new Error("Cannot create a filter: no column was specified.");if(!e||e.trim().length<1)throw new Error("Cannot create a filter: no operator was specified.");if(!a||a.trim().length<1)throw new Error("Cannot create a filter: no operand was specified.");var i=this.Instance.Element.data("Layout");i.Query.Filters||(i.Query.Filters=[]);var s=Lazy(i.Query.Filters).findWhere({Column:t}),o=Lazy(i.Columns).findWhere({Name:t});s&&"Date"!==o.DataType?(s.Operator=e,s.Operand=a):i.Query.Filters.push({Column:t,Operator:e,Operand:a}),this.Instance.cacheLayout(i),n&&this.Instance.getData()},reflectFilters:function(){var t=this.Instance.Container.children("section:first-child"),e=t.children("div.Filters");e.length?e.empty():(e=$("<div />").addClass("Filters"),t.prepend(e)),a.call(this,e),s.call(this,e),l.call(this,e);var n=$("<div />").addClass("Additional-Filters");e.append(n)},removeFilter:function(t,e){var a=this.Instance.Element.data("Layout");a.Query.Filters=Lazy(a.Query.Filters).reject(function(e,a){return e.Column===t}).toArray(),this.Instance.cacheLayout(a),e&&this.Instance.getData()}}}(),function(){"use strict";function t(){if(!this.Instance.Container.find("div.Groups").length){var t=$("<ol />").sortable({axis:"x",connectWith:"div.Remove-Group",containment:this.Instance.Container,cursorAt:{left:5,top:5},items:"li",out:h,over:$.proxy(r,this),start:$.proxy(d,this),stop:$.proxy(o,this),update:$.proxy(l,this)}).disableSelection(),e=$("<i />").addClass("fa fa-cubes").attr("title","Drag and drop a column here to group by that column"),a=$("<div />").addClass("Add-Group").append(e).sortable({out:h,over:$.proxy(r,this),start:$.proxy(d,this),stop:$.proxy(o,this),update:$.proxy(l,this)}).disableSelection(),n=$("<i />").addClass("fa fa-trash-o").attr("title","Drag and drop a grouped column here to stop grouping by that column"),i=$("<div />").addClass("Remove-Group").append(n).sortable({update:$.proxy(s,this)}).disableSelection(),c=$("<div />").addClass("Groups").append(t).append(a).append(i);this.Instance.Container.children("section:first-child").prepend(c)}}function e(t,e,a,n,i){var s=this.Instance.Element.data("Layout"),o=$("<tr />").attr("role","group").attr("data-grouplevel",e+1).addClass("Aggregates"),r=this.Instance.Element.data("Data").Aggregates[a];if(r){for(var l=0;n>l;l++){if(r[s.Columns[l].Name]){var d=$("<a />").attr("title","Show the group name.").text(r[s.Columns[l].Name]).on("click.widgets.adaptable",c),h=$("<td />").append(d);o.append(h)}else o.append("<td />");this.Instance.Element.find("th:nth-child("+(l+1)+")").is(":visible")||o.children(":last").hide()}o.insertBefore(i)}}function a(){var t=this.Instance.Element.data("Layout");if(t.Query.Groups.length){var a=this.Instance.Element.children("tbody"),i=t.Columns.length,s=[];Lazy(t.Query.Groups).each(function(e,a){var n=Lazy(t.Columns);s.push({ColumnIndex:n.indexOf(n.findWhere({Name:t.Query.Groups[a]})),Name:t.Query.Groups[a],Current:null})});var o=this;a.children("tr").each(function(t,a){a=$(a);var r=Lazy(s),l=r.join("|");r.each(function(t,s){var r=a.children(":nth-child("+(t.ColumnIndex+1)+")").text().trim();t.Current!==r&&(t.Current=r,n.call(o,t.Current,s,l,i,a),e.call(o,t.Current,s,l,i,a))})})}}function n(t,e,a,n,i){var s=$("<i />").addClass("fa fa-chevron-up").on("click.widgets.adaptable",p),o=$("<td />").attr("colspan",n).css("padding-left",14*e+"px").append(s).append(t);if(this.Instance.Element.data("Data").Aggregates[a]){var r=$("<i />").addClass("fa fa-calculator").attr("title","Show aggregates.").on("click.widgets.adaptable",c);o.append(r)}var l=$("<tr />").attr("role","group").attr("data-grouplevel",e+1).append(o);l.insertBefore(i)}function i(t,e){this.addGroup(t,e);var a=Lazy(this.Instance.Element.data("Layout").Columns).findWhere({Name:t}),n=this.Instance.Container.find("div.Groups > ol");n.children().length?n.children(":nth-child("+e+")").after("<li>"+a.Header+"</li>"):n.append("<li>"+a.Header+"</li>")}function s(t,e){e.item.remove();this.Instance.Element.data("Layout");this.removeGroup(e.item.text())}function o(t,e){if(e.item.parent().length&&null!==this.Instance.Sortable.EndIndex&&this.Instance.Sortable.StartIndex!==this.Instance.Sortable.EndIndex){var a=this.Instance.Element.data("Layout");this.Instance.bubbleArrayItems(a.Query.Groups,this.Instance.Sortable.StartIndex,this.Instance.Sortable.EndIndex),this.Instance.getData(),this.Instance.cacheLayout(a)}}function r(t,e){if(e.item.children("table").length){var a=Lazy(this.Instance.Element.data("Layout").Columns).findWhere({Header:e.item.find("th").text().trim()});e.item.children().hide(),e.item.append("<span>"+e.item.find("th").text().trim()+"</span>").addClass(a.IsGroupable?"Group":"Cannot-Group")}}function l(t,e){e.sender||(this.Instance.Sortable.EndIndex=e.item.index(),this.Instance.Sortable.toggleTextSelection()),e.item.remove()}function d(t,e){this.Instance.Sortable.StartIndex=e.item.index(),this.Instance.Sortable.toggleTextSelection()}function h(t,e){e.item.children("table").length&&(e.item.removeClass("Group Cannot-Group"),e.item.children("span").hide(),e.item.children("table, div").show())}function c(t){var e=$(this),a=e.parents("tr");a.hide(),e.hasClass("fa-calculator")?a.next().show():a.prev().show()}function p(t){var e,a=$(this),n=a.parents("tr");a.hasClass("fa-chevron-up")?(e=!0,a.removeClass("fa-chevron-up").addClass("fa-chevron-down")):(e=!1,a.removeClass("fa-chevron-down").addClass("fa-chevron-up"));for(var i=n.next();i.length&&(i.hasClass("Aggregates")||parseInt(i.attr("data-grouplevel")||99)>parseInt(n.attr("data-grouplevel")));)i.hasClass("Aggregates")?i.hide():(i.attr("data-grouplevel")&&(a=i.find("td > i"),a.hasClass("fa-chevron-down")&&a.removeClass("fa-chevron-down").addClass("fa-chevron-up")),e?i.hide():i.show()),i=i.next()}if(!window.AdapTable)throw new Error("AdapTable core hasn't loaded.");AdapTable.Grouping=function(t){this.Instance=t,this.Instance.Element.on("repaint.widgets.adaptable",$.proxy(this.applyGrouping,this))},AdapTable.Grouping.prototype={addGroup:function(t,e){if(!t||t.trim().length<1)throw new Error("Cannot create a group: no column was specified.");t=t.trim();var a=this.Instance.Element.data("Layout");if(null===e&&(e=a.Query.Groups.length),a.Query.Groups.indexOf(t)<0){a.Query.Groups.splice(e,0,t);var n=Lazy(a.Columns).findWhere({Name:t});n.IsVisible=!1,this.Instance.getData(),this.Instance.cacheLayout(a)}this.Instance.Container.find("div.Grouping > div.Add-Group").sortable("disable")},applyGrouping:function(){var e=this.Instance.Element.data("Layout");if(e&&e.Query&&e.Query.Groups&&e.Query.Groups.length){t.call(this),this.Instance.Container.find("div.Groups > ol > li").remove();var n=this;Lazy(e.Query.Groups).each(function(t,e){i.call(n,t,e)});var s=this.Instance.Element.data("Data");s.Pages[e.Query.PageIndex].Items.length&&a.call(this)}},removeGroup:function(t){var e=this.Instance.Element.data("Layout"),a=Lazy(e.Columns).findWhere({Name:t});a&&(e.Query.Groups.splice(e.Query.Groups.indexOf(t),1),a.IsVisible=!0,this.Instance.getData(),this.Instance.cacheLayout(e),e.Query.Groups.length||this.Instance.Container.find("div.Grouping > div.Add-Group").sortable("enable"))}}}(),function(){"use strict";function t(t,e,a,n){t.empty();var i,s=e.Query.PageIndex*e.Query.PageSize+1;i=e.Query.PageIndex===n?a:(e.Query.PageIndex+1)*e.Query.PageSize;var o=$("<span />").addClass("Adaptable-Page-Start").text(s),r=$("<span />").addClass("Adaptable-Page-End").text(i),l=$("<span />").addClass("Adaptable-Total-Items").text(a);t.append(o).append("-").append(r).append(" of ").append(l)}function e(t,e,a){t.empty();for(var i=3>e?1:e,s=a>e+3?e+3:a,o=i;s>=o;o++)t.append(o==e+1?"<li><strong>"+o+"</strong></li>":'<li><a href="javascript:void(0);">'+o+"</a></li>");i>1?t.prepend("<li>...</li>").prepend('<li><a href="javascript:void(0);">1</a></li>'):a>s&&t.append("<li>...</li>").append('<li><a href="javascript:void(0);">'+a+"</a></li>"),t.find("a").on("click",$.proxy(n,this))}function a(){var a=this.Instance.Container.children("section:last-of-type");a.children("ol").length||a.append("<div />").append("<ol />");var n=this.Instance.Element.data("Layout"),s=i.call(this),o=Math.ceil(s/n.Query.PageSize);t.call(this,a.children("div"),n,s,o),e.call(this,a.children("ol"),n.Query.PageIndex,o)}function n(t){t.preventDefault();var e=this.Instance.Element.data("Layout");e.Query.PageIndex=parseInt($(t.target).text())-1,this.Instance.getData(!0),this.Instance.cacheLayout(e)}function i(){var t=this.Instance.Element.data("Data");return null!=t?t.TotalItems:0}if(!window.AdapTable)throw new Error("AdapTable core hasn't loaded.");AdapTable.Paging=function(t){this.Instance=t,this.Instance.Element.on("repaint.widgets.adaptable",$.proxy(this.configurePaging,this))},AdapTable.Paging.prototype={configurePaging:function(){var t=this.Instance.Element.data("Layout");t&&t.Query&&"pager"===this.Instance.Options.Paging.toLowerCase()&&a.call(this)}}}(),function(){"use strict";function t(t,e){var n,i;if(e>t)for(n=t;e>n;n++){var s=this.Instance.Element.children(this.Instance.Options.ExcludeFooter?":not(tfoot)":"").children("tr:not([role])").children(":nth-child("+n+")"),o=this.Instance.Element.children(this.Instance.Options.ExcludeFooter?":not(tfoot)":"").children("tr:not([role])").children(":nth-child("+(n+1)+")");for(i=0;i<s.length;i++)a(s[i],o[i])}else if(t>e)for(n=t;n>e;n--)for(o=this.Instance.Element.children(this.Instance.Options.ExcludeFooter?":not(tfoot)":"").children("tr:not([role])").children(":nth-child("+n+")"),s=this.Instance.Element.children(this.Instance.Options.ExcludeFooter?":not(tfoot)":"").children("tr:not([role])").children(":nth-child("+(n-1)+")"),i=0;i<o.length;i++)a(o[i],s[i]);this.StartIndex=this.EndIndex=null}function e(t){var e=this.Instance.Element.data("Layout");if(e){var n=this;Lazy(e.Columns).each(function(t,e){var i=n.Instance.Element.find("th[data-column-name='"+t.Name+"']");t.IsMovable&&i.addClass("AdapTable-Movable"),i.index()!==e&&a(i[0],n.Instance.Element.find("th:nth-child("+(e+1)+")")[0]),n.Instance.Element.find("td[data-column-name='"+t.Name+"']").each(function(t,n){n=$(n),n.index()!==e&&a(n[0],n.parent().children("td:nth-child("+(e+1)+")")[0])})})}}function a(t,e){var a=t.parentNode,n=t.nextSibling===e?t:t.nextSibling;e.parentNode.insertBefore(t,e),a.insertBefore(e,n)}if(!window.AdapTable)throw new Error("AdapTable core hasn't loaded.");AdapTable.Positioning=function(t){this.Instance=t,this.Instance.Element.on("repaint.widgets.adaptable",$.proxy(e,this))},AdapTable.Positioning.prototype={rearrangeColumns:function(){t.call(this,this.Instance.Sortable.StartIndex,this.Instance.Sortable.EndIndex);var e=this.Instance.Element.data("Layout");this.Instance.Element.find("th").each(function(t,a){var n=e.Columns.indexOf($(a).data("Column")),i=e.Columns[t];e.Columns[t]=e.Columns[n],e.Columns[n]=i}),this.Instance.cacheLayout(e),this.Instance.Element.trigger("columns-moved.widgets.adaptable")}}}(),function(){"use strict";function t(t,e){var a=document.createElement("script");a.type="text/javascript",a.text=t.Script,document.getElementsByTagName("head")[0].appendChild(a)}function e(e,a){var n,i=e.slice(0),s=setInterval(function(){for(n=0;n<i.length;n++)localStorage[AdapTable.STORAGE_PREFIX+i[n]]&&(i.splice(n,1),n--);if(!(i.length>0)){for(clearInterval(s),n=0;n<e.length;n++){var o=JSON.parse(localStorage.getItem(AdapTable.STORAGE_PREFIX+e[n]));t(o,e[n])}a&&a()}},250)}if(!AdapTable)throw new Error("AdapTable core hasn't loaded.");var a=8760;AdapTable.ScriptLoader={getScript:function(e,n,i,s){if(e){null===!n?n=24:0===n&&(n=a);var o=JSON.parse(localStorage.getItem(AdapTable.STORAGE_PREFIX+e));return o&&o.Expiration>+new Date?(i&&t(o,e),void(s&&s())):void $.ajax(AdapTable.BasePath+AdapTable.SUB_FOLDER+e,{type:"GET",dataType:"text",success:function(a){var o={Expiration:+new Date+1e3*n*60*60,Script:a};n>-1&&(localStorage[AdapTable.STORAGE_PREFIX+e]=JSON.stringify(o)),i&&t(o,e),s&&s()},error:function(t,a,n){throw new Error("Failed to retrieve: "+e+".\n\n"+n)}})}},getScripts:function(t,a,n){if(t&&!(t.Length<1)){for(var i=0;i<t.length;i++)this.getScript(t[i],a,!1);e(t,n)}}}}(),function(){"use strict";function t(t){var e=this;this.Instance.Element.find("thead > tr > th").each(function(a,n){var i=$("<li />");e.DraggableList.append(i),n=$(n),n.is(":visible")?!e.Instance.Options.MovableColumns&&n.text().trim().length>0?i.addClass("AdapTable-Sortable"):e.Instance.Options.MovableColumns&&n.is(e.Instance.Options.MovableColumns)&&i.addClass("AdapTable-Sortable"):i.css("display","none");var s=$("<table />");i.append(s);for(var o in t.Attributes)s.attr(o,t.Attributes[o]);var r=$("<thead />");s.append(r);var l=$("<tbody />");s.append(l),e.Instance.Element.children(e.Instance.Options.ExcludeFooter?":not(tfoot)":"").children("tr:visible").children(":first-child").each(function(e,n){var i=$(n).parent().children(":nth-child("+(a+1)+")"),s=$("<tr />");for(var o in t.RowAttributes[e])s.attr(o,t.RowAttributes[e][o]);"th"===n.tagName.toLowerCase()?r.append(s):l.append(s),s.append(i.length?i.text().trim().length<1?i.clone().html("&nbsp;"):i.clone():"<td>&nbsp;</td>")})})}function e(){var e=n(this.Instance.Element,this.Instance.Options.ExcludeFooter);e.Width+=2,this.DraggableList=$("<ol />").attr("id","olAdapTable").attr("unselectable","on").css("position","absolute").css("width",e.Width+"px"),t.call(this,e),this.DraggableList.insertBefore(this.Instance.Element).find("li > table").each(function(t){$(this).css("width",e.HeaderWidths[t]+"px")})}function a(t){this.DraggedRow=this.DraggableList.children(":nth-child("+this.StartIndex+")"),this.toggleTextSelection(),this.DraggedRow.trigger($.extend($.Event(t.type),{which:1,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY}))}function n(t,e){var a={};return a.Attributes={},a.RowAttributes=[],a.Width=0,$.map(t[0].attributes,function(t){t.specified&&"id"!==t.name&&(a.Attributes[t.name]=t.value)}),a.HeaderWidths=$.map(t.find("thead > tr > th"),function(t){return t=$(t),a.Width+=t.outerWidth(),t.outerWidth()}),t.children(e?":not(tfoot)":"").children("tr:visible").each(function(t){a.RowAttributes[t]={},$.map(this.attributes,function(e){e.specified&&"id"!==e.name&&(a.RowAttributes[t][e.name]=e.value)})}),a}function i(t,e){if(this.Instance.Sortable.DraggableList.addClass("AdapTable-Disabled").sortable("disable"),e.item.parent()[0]===this.DraggableList[0])this.EndIndex=this.DraggedRow.index()+1,this.Instance.Positioning.rearrangeColumns();else{this.EndIndex=this.DraggedRow.index();var a=Lazy(this.Instance.Element.data("Layout").Columns).findWhere({Header:e.item.find("th").text()});a.IsGroupable?this.Instance.Grouping.addGroup(a.Name,this.EndIndex):e.item.remove()}this.DraggableList.remove(),this.DraggableList=null,this.DraggedRow=null,this.toggleTextSelection()}if(!window.AdapTable)throw new Error("AdapTable core hasn't loaded.");if(!jQuery.ui.sortable)throw new Error("jQuery UI isn't detected; grouping and column positioning require jQuery UI.");AdapTable.Sortable=function(t){this.Instance=t,this.Instance.Element.on("mousedown.widgets.adaptable","th.AdapTable-Movable",$.proxy(this.buildSortable,this))},AdapTable.Sortable.prototype={buildSortable:function(t){if(1===t.which&&"A"!==t.target.tagName.toUpperCase()){t.stopPropagation(),e.call(this),this.DraggableList.sortable({containment:this.Container,cursorAt:{left:5,top:5},distance:0,items:".AdapTable-Sortable",stop:$.proxy(i,this),tolerance:"pointer"}).disableSelection(),this.Instance.Options.CanGroup?this.DraggableList.sortable("option","connectWith","div.Add-Group, div.Groups > ol"):this.DraggableList.sortable("option","axis","x");this.StartIndex=$(t.target).closest("th").index()+1,a.call(this,t);var n=this.DraggableList.find(".ui-sortable-placeholder");n.height()>0&&(n.css("height",this.Instance.Element.height()),n.append('<div style="height: 100%;" />'))}},toggleTextSelection:function(){var t=$(document.body);t.attr("unselectable")?(t.attr("unselectable","on").addClass("Disable-Text-Selection").on("selectstart.widgets.adaptable",!1),window.getSelection().removeAllRanges()):t.removeAttr("unselectable").removeClass("Disable-Text-Selection").off("selectstart")}}}(),function(){"use strict";function t(t,e,a,n){var i=e.children("a");i.length?i.children("i").remove():(i=$("<a />").attr("href","javascript:void(0);").text(e.text().trim()),e.empty().append(i)),t.Query.Sort&&t.Query.Sort.substr(0,n.Name.length)===n.Name&&i.append(t.Query.SortDirection&&"DESC"===t.Query.SortDirection.toUpperCase()?'<i class="fa fa-sort-alpha-desc" />':'<i class="fa fa-sort-alpha-asc" />')}if(!window.AdapTable)throw new Error("AdapTable core hasn't loaded.");AdapTable.Sorting=function(t){this.Instance=t,this.Instance.Element.on("repaint.widgets.adaptable",$.proxy(this.reflectSorting,this)).on("click.widgets.adaptable","th > a",$.proxy(this.sortData,this))},AdapTable.Sorting.prototype={reflectSorting:function(){var e=this.Instance.Element.data("Layout");if(e){var a=this,n=Lazy(e.Columns);n.where({IsSortable:!0}).each(function(i,s){if(i.Name){var o=a.Instance.Element.find("th[data-column-name='"+i.Name+"']");t(e,o,n.indexOf(i),i)}})}},sortData:function(t){t.stopPropagation();var e=$(t.target),a=this.Instance.Element.data("Layout");a.Query.SortDirection=a.Query.Sort===e.parent().data("Column").Name?"DESC"===a.Query.SortDirection?"ASC":"DESC":"ASC",a.Query.Sort=e.parent().data("Column").Name,this.Instance.getData(),this.Instance.cacheLayout(a)}}}(),function(){"use strict";function t(t){var e=this.Element.data("Data");e&&(t.FilterValues||(t.FilterValues=e.FilterValues),t.Aggregates||(t.Aggregates=e.Aggregates));var a=$.extend(!0,{},t);a.Pages=e&&e.Pages?e.Pages:[];var n=this.Element.data("Layout");if(a.Pages[n.Query.PageIndex]={Items:a.Items},this.Element.data("Data",a),!(this.Options.Data.Expiration<0)){0==this.Options.Data.Expiration&&(this.Options.Data.Expiration=l);var i=JSON.parse(sessionStorage.getItem(this.STORAGE_PREFIX+document.location))||{Instances:[]},s=$("div.AdapTable").index(this.Container),o=i.Instances[s];o||(i.Instances[s]=o={}),o.Data=a,a.Expiration=+new Date+1e3*(this.Options.Data.Expiration||24)*60*60,delete a.Items,sessionStorage[this.STORAGE_PREFIX+document.location]=JSON.stringify(i)}}function e(){var t=this;this.Element.find("thead > tr > th").each(function(e,a){var n=$(this),i=Lazy(t.Element.data("Layout").Columns).findWhere({Name:n.data("column-name")});n.data("Column",i)})}function a(){var t=$("div.AdapTable").index(this.Container),a=JSON.parse(sessionStorage.getItem(this.STORAGE_PREFIX+document.location))||{Instances:[]};if(a.Instances.length){var n=a.Instances[t];if(!n||!n.Data)return!1;if(n.Data.Expiration<+new Date)return!1;if(!n.Data.Pages[this.Element.data("Layout").Query.PageIndex])return!1;e.call(this),this.Element.data("Data",n.Data);var i={Aggregates:n.Data.Aggregates,FilterValues:n.Data.FilterValues,Items:n.Data.Pages[this.Element.data("Layout").Query.PageIndex].Items,TotalItems:n.Data.TotalItems};return this.Options.Data.Success&&this.Options.Data.Success.call(this,i),this.Element.trigger("repaint.widgets.adaptable"),!0}return!1}function n(){var a=this;this.Options.Data.Url&&0!==this.Options.Data.Url.trim().length&&$.ajax(this.Options.Data.Url,{method:this.Options.Data.RequestType,contentType:"application/json",data:JSON.stringify(this.Element.data("Layout"))}).done(function(n){t.call(a,n),e.call(a),a.Options.Data.Success&&a.Options.Data.Success.call(a,n),a.Element.trigger("repaint.widgets.adaptable")}).fail(function(t,e,n){a.Options.Data.Fail&&a.Options.Data.Fail.call(a,t,e,n)})}function i(){var t=$("div.AdapTable").index(this.Container),e=JSON.parse(sessionStorage.getItem(this.STORAGE_PREFIX+document.location))||{Instances:[]};if(e.Instances.length){var a=e.Instances[t];if(a&&a.Layout&&a.Layout.Expiration>+new Date)return this.Element.data("Layout",a.Layout),!0}return!1}function s(t){var e=this;return this.Options.Layout.Url&&0!==this.Options.Layout.Url.trim().length?void $.ajax(this.Options.Layout.Url,{method:"GET"}).done(function(a){a&&e.cacheLayout(a),t&&t.call(e)}):void(t&&t())}function o(t){var e=this;this.Element.find("thead th").each(function(a,n){n=$(n);var i={IsFilterable:!1,IsGroupable:!1,IsHidable:!1,IsMovable:!1,IsSortable:!1,IsVisible:!0};n.text().trim().length>0&&(i.Header=n.text().trim(),i.Name=n.data("name"),i.IsHidable=n.is(e.Options.MovableColumns?e.Options.MovableColumns:e.Options.MovableColumns),i.IsMovable=n.text().trim().length<1),t.Columns.push(i)})}function r(){var t={Columns:[],Query:{Filters:[],Groups:[],PageSize:10,PageIndex:0}},e=$.extend(!0,{},t,this.Options.Layout,this.Element.data("Layout")),a=this.Options.CanChangeView||this.Options.CanFilter||this.Options.CanGroup||this.Options.CanMoveColumns||this.Options.CanSort;a&&!e.Columns.length&&(o.call(this,e),Lazy(e.Columns).each(function(t,e){if(!t.Name||""===t.Name.trim())throw new Error("All columns must have a name. Column at index: "+e+" has no name.")})),this.Element.data("Layout",e),this.Options.Data.Url?this.getData(!0):this.Element.trigger("repaint.widgets.adaptable")}if(!window.AdapTable)throw new Error("AdapTable core hasn't loaded.");var l=8760;AdapTable.cacheLayout=function(t){if(t&&(this.Element.data("Layout",t),!(this.Options.Layout.Expiration<0))){0===this.Options.Layout.Expiration&&(this.Options.Layout.Expiration=l);var e=$("div.AdapTable").index(this.Container),a=JSON.parse(sessionStorage.getItem(this.STORAGE_PREFIX+document.location))||{Instances:[]},n=a.Instances[e];n||(a.Instances[e]=n={}),n.Layout=t,n.Layout.Expiration=+new Date+1e3*(this.Options.Layout.Expiration||24)*60*60,sessionStorage[this.STORAGE_PREFIX+document.location]=JSON.stringify(a)}},AdapTable.getData=function(t){var e=!1;t&&(e=a.call(this)),e||n.call(this)},AdapTable.initializeState=function(){if(this.Options.Layout){var t=i.call(this);if(!t){var e=this;return void s.call(this,function(){r.call(e)})}}r.call(this)},AdapTable.saveLayout=function(){var t=this;$.ajax(this.Options.Layout.Url,{method:"POST",data:JSON.stringify(this.Element.data("Layout"))}).done(function(e,a,n){t.Options.Layout.Success&&t.Options.Layout.Success.call(t,e,a,n)}).fail(function(e,a,n){t.Options.Layout.Fail&&t.Options.Layout.Fail.call(t,e,a,n)})}}(),function(){"use strict";function t(){this.Instance.Container.find("div.Actions > ol.Columns").remove();

var t=$("<ol />").addClass("Columns");this.Instance.Container.find("div.Actions").append(t);var e=this,n=this.Instance.Element.data("Layout").Columns;Lazy(n).each(function(n,i){var s=$("<input />").attr("type","checkbox").prop("checked",n.IsVisible).on("change.widgets.adaptable",e.Instance.Options,$.proxy(a,e)),o=$("<label />").append(s),r=$("<li />").append(o);!n.Header||n.Header.trim().length<1?r.hide():o.append(n.Header),t.append(r)})}function e(t){this.Instance.toggleMenu(t,$(t.target).parent().children("ol.Columns"))}function a(t){{var e=$(t.target),a=e.parents("li").index();e.parents("div.AdapTable").children("table")}n.call(this,a,e.is(":checked"))}function n(t,e){var a=this.Instance.Element.children(this.Instance.Options.ExcludeFooter?":not(tfoot)":"").children("tr:not([role='group'])").children(":nth-child("+(t+1)+")");if(e?a.show():a.hide(),this.Instance.Options.Layout.Url){var n=this.Instance.Element.data("Layout");n.Columns[t].IsVisible=e,this.Instance.cacheLayout(n)}}if(!window.AdapTable)throw new Error("AdapTable core hasn't loaded.");AdapTable.Views=function(e){this.Instance=e,this.Instance.Element.on("repaint.widgets.adaptable",$.proxy(this.applyView,this)).on("columns-moved.widgets.adaptable",$.proxy(t,this))},AdapTable.Views.prototype={applyView:function(){var a=this.Instance.Element.data("Layout");if(a){var i=this,s=Lazy(a.Columns);s.where({IsVisible:!0}).each(function(t){n.call(i,s.indexOf(t),!0)}),s.where({IsHidable:!0,IsVisible:!1}).each(function(t){n.call(i,s.indexOf(t),!1)}),this.Instance.Container.find(".fa-columns").length||(this.Instance.addActionButton("fa-columns","Select which columns are viewable",$.proxy(e,this)),t.call(this))}}}}();